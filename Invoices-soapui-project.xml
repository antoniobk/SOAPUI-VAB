<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="061a5146-ff1b-4b05-a749-e08881d42810" activeEnvironment="Default" name="Invoices" resourceRoot="${projectDir}" soapui-version="5.6.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="TestSuite" value="&lt;all>"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Password" value=""/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Username" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Enable UI" value="true"/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Save Project" value="true"/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:WsdlInterface" id="4dc27750-8bd3-427a-8edd-3a1cca2e8555" wsaVersion="NONE" name="InvoiceSoap12" type="wsdl" bindingName="{http://Invoice_API/Invoice/}InvoiceSoap12" soapVersion="1_2" anonymous="optional" definition="https://appstst.vab.be/Invoice_API/Invoice.asmx?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="https://appstst.vab.be/Invoice_API/Invoice.asmx?wsdl"><con:part><con:url>https://appstst.vab.be/Invoice_API/Invoice.asmx?wsdl</con:url><con:content><![CDATA[<wsdl:definitions targetNamespace="http://Invoice_API/Invoice/" xmlns:s="http://www.w3.org/2001/XMLSchema" xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/" xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/" xmlns:tns="http://Invoice_API/Invoice/" xmlns:s0="http://www.outsystems.com" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tm="http://microsoft.com/wsdl/mime/textMatching/" xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/">
  <wsdl:documentation>Service related to invoices</wsdl:documentation>
  <wsdl:types>
    <s:schema elementFormDefault="qualified" targetNamespace="http://www.outsystems.com">
      <s:element name="GetInvoicePDF">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputInvoicePDF_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="InputAuditing_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="User" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Source" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputInvoicePDF_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceNumber" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="IsDuplicatePDF" type="s:boolean"/>
        </s:sequence>
      </s:complexType>
      <s:element name="GetInvoicePDFResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:OutputWithInvoicePDF"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="OutputWithInvoicePDF">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="ResultMessage" type="s0:Result"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoicePDF" type="s:base64Binary"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="Result">
        <s:sequence>
          <s:element minOccurs="1" maxOccurs="1" name="Success" type="s:boolean"/>
          <s:element minOccurs="1" maxOccurs="1" name="ResultCode" type="s:int"/>
          <s:element minOccurs="0" maxOccurs="1" name="Message" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:element name="PreviewInvoice">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputInvoice_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="InputInvoice_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="Customer" type="s0:InputCustomer_IS"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceAddress" type="s0:InputInvoiceAddress_IS"/>
          <s:element minOccurs="0" maxOccurs="1" name="DeliveryAddress" type="s0:InputDeliveryAddress_IS"/>
          <s:element minOccurs="0" maxOccurs="1" name="Company" type="s0:InputCompany_IS"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceDetails" type="s0:InputInvoiceDetails_IS"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceLines" type="s0:ArrayOfInputInvoiceLine_IS"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoicePayment" type="s0:InputInvoicePayment_IS"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputCustomer_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="CustomerTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ContactTypeCode" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="CustomerNumber" type="s:int"/>
          <s:element minOccurs="0" maxOccurs="1" name="VAT" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CompanyNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CompanyName" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="FirstName" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="LastName" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="IBAN" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="BIC" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="GenderCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="LanguageCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Email" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CommunicationChannelCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CareOf" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputInvoiceAddress_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="Name" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CareOf" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CompanyLegalForm" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Street" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Number" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Bus" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Zip" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="City" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CountryCode" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputDeliveryAddress_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="Name" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CareOf" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CompanyLegalForm" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Street" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Number" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Bus" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Zip" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="City" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CountryCode" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputCompany_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="CompanyName" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="VAT" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CompanyNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ContactPerson" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="TelephoneNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="BusinessCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="FaxNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ContactEmail" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="IBAN" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="BIC" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Website" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Courthouse" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Street" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Number" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Bus" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Zip" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="City" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CountryCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CompanyShortName" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputInvoiceDetails_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="EntityId" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="SalesCode" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="LatestPaymentDate" type="s:date"/>
          <s:element minOccurs="0" maxOccurs="1" name="ReferencedInvoiceNumber" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="InterventionDate" type="s:date"/>
          <s:element minOccurs="1" maxOccurs="1" name="CreditNote" type="s:boolean"/>
          <s:element minOccurs="0" maxOccurs="1" name="RefusalType" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="StartDate" type="s:date"/>
          <s:element minOccurs="1" maxOccurs="1" name="EndDate" type="s:date"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceFlowTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="SupplierCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceNumberSupplier" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ScanInformation" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="InternalNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="InternalReference" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ArticleGroup" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CountryCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CurrencyTypeCode" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="TotalNetAmount" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="TotalVATAmount" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="TotalAmount" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="RestAmount" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="PaidAmount" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="PaidDate" type="s:date"/>
          <s:element minOccurs="0" maxOccurs="1" name="AdditionalInformation" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="SendToCustomer" type="s:boolean"/>
          <s:element minOccurs="1" maxOccurs="1" name="SendToArchive" type="s:boolean"/>
          <s:element minOccurs="1" maxOccurs="1" name="SendToBooking" type="s:boolean"/>
          <s:element minOccurs="0" maxOccurs="1" name="BatchID" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="InvoiceDate" type="s:date"/>
          <s:element minOccurs="0" maxOccurs="1" name="SpartaQueueId" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="PayableInformation" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="OrderInformation" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="VATForeignNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="FileNamePattern" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="deextnr" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceStatus" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="AdditionalReferenceNumber" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="UbenchID" type="s:int"/>
          <s:element minOccurs="0" maxOccurs="1" name="FleetOwner" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ExternalReference" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="PolicyNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="FileNumber" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="ArrayOfInputInvoiceLine_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="unbounded" name="InputInvoiceLine_IS" nillable="true" type="s0:InputInvoiceLine_IS"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputInvoiceLine_IS">
        <s:sequence>
          <s:element minOccurs="1" maxOccurs="1" name="ShowOnInvoice" type="s:boolean"/>
          <s:element minOccurs="0" maxOccurs="1" name="ArticleNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Description" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="Quantity" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="UnitPrice" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="Amount" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="AmountInclVAT" type="s:decimal"/>
          <s:element minOccurs="0" maxOccurs="1" name="BalanceTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="DiscountGroup" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CostCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="AdditionalInformation1" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="AdditionalInformation2" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="AdditionalInformation3" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="AdditionalInformation4" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="AdditionalInformation5" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ReferenceCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ReferenceSubCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ContractTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CompletionTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="BookingLines" type="s0:ArrayOfInputInvoiceBookingLine_IS"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="ArrayOfInputInvoiceBookingLine_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="unbounded" name="InputInvoiceBookingLine_IS" nillable="true" type="s0:InputInvoiceBookingLine_IS"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputInvoiceBookingLine_IS">
        <s:sequence>
          <s:element minOccurs="1" maxOccurs="1" name="Amount" type="s:decimal"/>
          <s:element minOccurs="0" maxOccurs="1" name="VATCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="VATDescription" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="VATRate" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="VATAmount" type="s:decimal"/>
          <s:element minOccurs="0" maxOccurs="1" name="AdditionalInformation6" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ArticleNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="BalanceTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="DiscountGroup" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CostCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ReferenceCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ReferenceSubCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ContractTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="CompletionTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ProductCode" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="InputInvoicePayment_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="PaymentTypeCode" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="OGM" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Mandate" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="SEPARefused" type="s:boolean"/>
          <s:element minOccurs="0" maxOccurs="1" name="SEPALot" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="SEPADocument" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="SEPAOGM" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="SEPAMessage" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:element name="PreviewInvoiceResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:OutputWithInvoicePDF"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:element name="SetInvoiceAttachments">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputSetAttachments_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="InputSetAttachments_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="AttachmentList" type="s0:ArrayOfAttachment"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="ArrayOfAttachment">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="unbounded" name="Attachment" nillable="true" type="s0:Attachment"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="Attachment">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="Filename" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="MimeType" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Description" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Content" type="s:base64Binary"/>
        </s:sequence>
      </s:complexType>
      <s:element name="SetInvoiceAttachmentsResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:Output"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="Output">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="ResultMessage" type="s0:Result"/>
        </s:sequence>
      </s:complexType>
      <s:element name="FinalizeInvoice">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputFinalize_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="InputFinalize_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceCallbackEndpoint" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:element name="FinalizeInvoiceResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:Output"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:element name="convertProformaInvoice">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputFinalize_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:element name="convertProformaInvoiceResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:Output"/>
            <s:element minOccurs="0" maxOccurs="1" name="invoiceNumber" type="s:string"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:element name="UpdatePaymentRefusalStatus">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputInvoiceUpdatePaymentStatus_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="InputInvoiceUpdatePaymentStatus_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceNumber" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="PaymentStatusTypeCode" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:element name="UpdatePaymentRefusalStatusResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:Output"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:element name="GenerateInvoice">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputInvoice_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:element name="GenerateInvoiceResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:OutputWithInvoiceNumber"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="OutputWithInvoiceNumber">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="ResultMessage" type="s0:Result"/>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceNumber" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:element name="GetInvoiceAttachments">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputGetAttachments_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="InputGetAttachments_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceNumber" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:element name="GetInvoiceAttachmentsResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:OutputWithAttachments"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="OutputWithAttachments">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="ResultMessage" type="s0:Result"/>
          <s:element minOccurs="0" maxOccurs="1" name="AttachmentList" type="s0:ArrayOfAttachmentOutput"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="ArrayOfAttachmentOutput">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="unbounded" name="AttachmentOutput" nillable="true" type="s0:AttachmentOutput"/>
        </s:sequence>
      </s:complexType>
      <s:complexType name="AttachmentOutput">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="Filename" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Description" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="ExternalId" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="Link" type="s:string"/>
        </s:sequence>
      </s:complexType>
      <s:element name="UpdatePaymentAmount">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Audit" type="s0:InputAuditing_IS"/>
            <s:element minOccurs="0" maxOccurs="1" name="Input" type="s0:InputInvoicePaymentBooking_IS"/>
          </s:sequence>
        </s:complexType>
      </s:element>
      <s:complexType name="InputInvoicePaymentBooking_IS">
        <s:sequence>
          <s:element minOccurs="0" maxOccurs="1" name="InvoiceNumber" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="TotalNetAmount" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="TotalVatAmount" type="s:decimal"/>
          <s:element minOccurs="1" maxOccurs="1" name="TotalAmount" type="s:decimal"/>
          <s:element minOccurs="0" maxOccurs="1" name="Description" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="MessageIdentification" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="LotIdentification" type="s:string"/>
          <s:element minOccurs="0" maxOccurs="1" name="PaymentMethod" type="s:string"/>
          <s:element minOccurs="1" maxOccurs="1" name="PayDate" type="s:date"/>
        </s:sequence>
      </s:complexType>
      <s:element name="UpdatePaymentAmountResponse">
        <s:complexType>
          <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="Output" type="s0:Output"/>
          </s:sequence>
        </s:complexType>
      </s:element>
    </s:schema>
  </wsdl:types>
  <wsdl:message name="GetInvoicePDFSoapIn">
    <wsdl:part name="parameters" element="s0:GetInvoicePDF"/>
  </wsdl:message>
  <wsdl:message name="GetInvoicePDFSoapOut">
    <wsdl:part name="parameters" element="s0:GetInvoicePDFResponse"/>
  </wsdl:message>
  <wsdl:message name="PreviewInvoiceSoapIn">
    <wsdl:part name="parameters" element="s0:PreviewInvoice"/>
  </wsdl:message>
  <wsdl:message name="PreviewInvoiceSoapOut">
    <wsdl:part name="parameters" element="s0:PreviewInvoiceResponse"/>
  </wsdl:message>
  <wsdl:message name="SetInvoiceAttachmentsSoapIn">
    <wsdl:part name="parameters" element="s0:SetInvoiceAttachments"/>
  </wsdl:message>
  <wsdl:message name="SetInvoiceAttachmentsSoapOut">
    <wsdl:part name="parameters" element="s0:SetInvoiceAttachmentsResponse"/>
  </wsdl:message>
  <wsdl:message name="FinalizeInvoiceSoapIn">
    <wsdl:part name="parameters" element="s0:FinalizeInvoice"/>
  </wsdl:message>
  <wsdl:message name="FinalizeInvoiceSoapOut">
    <wsdl:part name="parameters" element="s0:FinalizeInvoiceResponse"/>
  </wsdl:message>
  <wsdl:message name="convertProformaInvoiceSoapIn">
    <wsdl:part name="parameters" element="s0:convertProformaInvoice"/>
  </wsdl:message>
  <wsdl:message name="convertProformaInvoiceSoapOut">
    <wsdl:part name="parameters" element="s0:convertProformaInvoiceResponse"/>
  </wsdl:message>
  <wsdl:message name="UpdatePaymentRefusalStatusSoapIn">
    <wsdl:part name="parameters" element="s0:UpdatePaymentRefusalStatus"/>
  </wsdl:message>
  <wsdl:message name="UpdatePaymentRefusalStatusSoapOut">
    <wsdl:part name="parameters" element="s0:UpdatePaymentRefusalStatusResponse"/>
  </wsdl:message>
  <wsdl:message name="GenerateInvoiceSoapIn">
    <wsdl:part name="parameters" element="s0:GenerateInvoice"/>
  </wsdl:message>
  <wsdl:message name="GenerateInvoiceSoapOut">
    <wsdl:part name="parameters" element="s0:GenerateInvoiceResponse"/>
  </wsdl:message>
  <wsdl:message name="GetInvoiceAttachmentsSoapIn">
    <wsdl:part name="parameters" element="s0:GetInvoiceAttachments"/>
  </wsdl:message>
  <wsdl:message name="GetInvoiceAttachmentsSoapOut">
    <wsdl:part name="parameters" element="s0:GetInvoiceAttachmentsResponse"/>
  </wsdl:message>
  <wsdl:message name="UpdatePaymentAmountSoapIn">
    <wsdl:part name="parameters" element="s0:UpdatePaymentAmount"/>
  </wsdl:message>
  <wsdl:message name="UpdatePaymentAmountSoapOut">
    <wsdl:part name="parameters" element="s0:UpdatePaymentAmountResponse"/>
  </wsdl:message>
  <wsdl:portType name="InvoiceSoap">
    <wsdl:operation name="GetInvoicePDF">
      <wsdl:documentation>Service to obtain the pdf of an invoice or to obtain an invoice with the duplicate watermark</wsdl:documentation>
      <wsdl:input message="tns:GetInvoicePDFSoapIn"/>
      <wsdl:output message="tns:GetInvoicePDFSoapOut"/>
    </wsdl:operation>
    <wsdl:operation name="PreviewInvoice">
      <wsdl:documentation>Service that generates a preview invoice document in pdf</wsdl:documentation>
      <wsdl:input message="tns:PreviewInvoiceSoapIn"/>
      <wsdl:output message="tns:PreviewInvoiceSoapOut"/>
    </wsdl:operation>
    <wsdl:operation name="SetInvoiceAttachments">
      <wsdl:documentation>Service to add attachments to an invoice</wsdl:documentation>
      <wsdl:input message="tns:SetInvoiceAttachmentsSoapIn"/>
      <wsdl:output message="tns:SetInvoiceAttachmentsSoapOut"/>
    </wsdl:operation>
    <wsdl:operation name="FinalizeInvoice">
      <wsdl:documentation>Service to indicate that GenerateInvoice is done (the invoice can’t be already finalized).</wsdl:documentation>
      <wsdl:input message="tns:FinalizeInvoiceSoapIn"/>
      <wsdl:output message="tns:FinalizeInvoiceSoapOut"/>
    </wsdl:operation>
    <wsdl:operation name="convertProformaInvoice">
      <wsdl:documentation>Service to indicate that GenerateInvoice is done (the invoice can’t be already finalized).</wsdl:documentation>
      <wsdl:input message="tns:convertProformaInvoiceSoapIn"/>
      <wsdl:output message="tns:convertProformaInvoiceSoapOut"/>
    </wsdl:operation>
    <wsdl:operation name="UpdatePaymentRefusalStatus">
      <wsdl:documentation>Service to update an invoice payment status (paid, refused or late refused). If is from SPARTA the paid is not allowed</wsdl:documentation>
      <wsdl:input message="tns:UpdatePaymentRefusalStatusSoapIn"/>
      <wsdl:output message="tns:UpdatePaymentRefusalStatusSoapOut"/>
    </wsdl:operation>
    <wsdl:operation name="GenerateInvoice">
      <wsdl:documentation>Service to generate a new invoice with all the details.</wsdl:documentation>
      <wsdl:input message="tns:GenerateInvoiceSoapIn"/>
      <wsdl:output message="tns:GenerateInvoiceSoapOut"/>
    </wsdl:operation>
    <wsdl:operation name="GetInvoiceAttachments">
      <wsdl:documentation>Service to obtain the list of attachments for an invoice.</wsdl:documentation>
      <wsdl:input message="tns:GetInvoiceAttachmentsSoapIn"/>
      <wsdl:output message="tns:GetInvoiceAttachmentsSoapOut"/>
    </wsdl:operation>
    <wsdl:operation name="UpdatePaymentAmount">
      <wsdl:documentation>Service to Book the payments according to the predefined rules</wsdl:documentation>
      <wsdl:input message="tns:UpdatePaymentAmountSoapIn"/>
      <wsdl:output message="tns:UpdatePaymentAmountSoapOut"/>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="InvoiceSoap" type="tns:InvoiceSoap">
    <soap:binding transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="GetInvoicePDF">
      <soap:operation soapAction="http://Invoice_API/Invoice/GetInvoicePDF" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="PreviewInvoice">
      <soap:operation soapAction="http://Invoice_API/Invoice/PreviewInvoice" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="SetInvoiceAttachments">
      <soap:operation soapAction="http://Invoice_API/Invoice/SetInvoiceAttachments" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="FinalizeInvoice">
      <soap:operation soapAction="http://Invoice_API/Invoice/FinalizeInvoice" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="convertProformaInvoice">
      <soap:operation soapAction="http://Invoice_API/Invoice/convertProformaInvoice" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="UpdatePaymentRefusalStatus">
      <soap:operation soapAction="http://Invoice_API/Invoice/UpdatePaymentRefusalStatus" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="GenerateInvoice">
      <soap:operation soapAction="http://Invoice_API/Invoice/GenerateInvoice" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="GetInvoiceAttachments">
      <soap:operation soapAction="http://Invoice_API/Invoice/GetInvoiceAttachments" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="UpdatePaymentAmount">
      <soap:operation soapAction="http://Invoice_API/Invoice/UpdatePaymentAmount" style="document"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:binding name="InvoiceSoap12" type="tns:InvoiceSoap">
    <soap12:binding transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="GetInvoicePDF">
      <soap12:operation soapAction="http://Invoice_API/Invoice/GetInvoicePDF" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="PreviewInvoice">
      <soap12:operation soapAction="http://Invoice_API/Invoice/PreviewInvoice" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="SetInvoiceAttachments">
      <soap12:operation soapAction="http://Invoice_API/Invoice/SetInvoiceAttachments" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="FinalizeInvoice">
      <soap12:operation soapAction="http://Invoice_API/Invoice/FinalizeInvoice" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="convertProformaInvoice">
      <soap12:operation soapAction="http://Invoice_API/Invoice/convertProformaInvoice" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="UpdatePaymentRefusalStatus">
      <soap12:operation soapAction="http://Invoice_API/Invoice/UpdatePaymentRefusalStatus" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="GenerateInvoice">
      <soap12:operation soapAction="http://Invoice_API/Invoice/GenerateInvoice" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="GetInvoiceAttachments">
      <soap12:operation soapAction="http://Invoice_API/Invoice/GetInvoiceAttachments" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="UpdatePaymentAmount">
      <soap12:operation soapAction="http://Invoice_API/Invoice/UpdatePaymentAmount" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="Invoice">
    <wsdl:documentation>Service related to invoices</wsdl:documentation>
    <wsdl:port name="InvoiceSoap" binding="tns:InvoiceSoap">
      <soap:address location="https://appstst.vab.be/Invoice_API/Invoice.asmx"/>
    </wsdl:port>
    <wsdl:port name="InvoiceSoap12" binding="tns:InvoiceSoap12">
      <soap12:address location="https://appstst.vab.be/Invoice_API/Invoice.asmx"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint></con:endpoints><con:operation id="4648812d-eed2-4175-b809-14283d73972b" isOneWay="false" action="http://Invoice_API/Invoice/FinalizeInvoice" name="FinalizeInvoice" bindingOperationName="FinalizeInvoice" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="f093e6ac-996f-4487-81cc-a3299976dde5" name="Request 1" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">\r
   <soap:Header/>\r
   <soap:Body>\r
      <out:FinalizeInvoice>\r
         <!--Optional:-->\r
         <out:Audit>\r
            <!--Optional:-->\r
            <out:User>?</out:User>\r
            <!--Optional:-->\r
            <out:Source>?</out:Source>\r
         </out:Audit>\r
         <!--Optional:-->\r
         <out:Input>\r
            <!--Optional:-->\r
            <out:InvoiceNumber>?</out:InvoiceNumber>\r
            <!--Optional:-->\r
            <out:InvoiceCallbackEndpoint>?</out:InvoiceCallbackEndpoint>\r
         </out:Input>\r
      </out:FinalizeInvoice>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/FinalizeInvoiceRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="b19410d9-44c8-4078-8b2b-18ff677af314" isOneWay="false" action="http://Invoice_API/Invoice/GenerateInvoice" name="GenerateInvoice" bindingOperationName="GenerateInvoice" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="e976d564-2c39-47d8-a924-3268e325248d" name="Request 1" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
         <Input>
            <Customer>
               <CustomerTypeCode>C</CustomerTypeCode>
               <ContactTypeCode>C</ContactTypeCode>
               <CustomerNumber>25500356</CustomerNumber>
               <VAT>BE0403448140</VAT>
               <CompanyNumber>0403448140</CompanyNumber>
               <CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
               <FirstName/>
               <LastName/>
               <IBAN/>
               <BIC/>
               <GenderCode>M</GenderCode>
               <LanguageCode>N</LanguageCode>
               <Email/>
               <CommunicationChannelCode>POST</CommunicationChannelCode>
               <CareOf>SERVICE GARANTIE</CareOf>
            </Customer>
            <InvoiceAddress>
               <Name>D'IETEREN GROUP SERVICE</Name>
               <CareOf>SERVICE GARANTIE</CareOf>
               <CompanyLegalForm/>
               <Street>MALIESTRAAT</Street>
               <Number>50</Number>
               <Bus/>
               <Zip>1050</Zip>
               <City>ELSENE</City>
               <CountryCode>BE</CountryCode>
            </InvoiceAddress>
            <DeliveryAddress>
               <Name>D'IETEREN GROUP SERVICE</Name>
               <CareOf>SERVICE GARANTIE</CareOf>
               <CompanyLegalForm/>
               <Street>MALIESTRAAT</Street>
               <Number>50</Number>
               <Bus/>
               <Zip>1050</Zip>
               <City>ELSENE</City>
               <CountryCode>BE</CountryCode>
            </DeliveryAddress>
            <Company>
               <CompanyName>VAB N.V.</CompanyName>
               <VAT>BE0436267594</VAT>
               <CompanyNumber>0436267594</CompanyNumber>
               <ContactPerson>Laura Diels</ContactPerson>
               <TelephoneNumber>7023</TelephoneNumber>
               <FaxNumber>03/252 69 58</FaxNumber>
               <ContactEmail>contact@vab.be</ContactEmail>
               <IBAN>BE62410032877161</IBAN>
               <BIC>KREDBEBB</BIC>
               <Website>www.vab.be</Website>
               <Courthouse>RPR Antwerpen</Courthouse>
               <Street>PASTOOR COPLAAN</Street>
               <Number>100</Number>
               <Bus/>
               <Zip>2070</Zip>
               <City>ZWIJNDRECHT</City>
               <CountryCode>BE</CountryCode>
            </Company>
            <InvoiceDetails>
               <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
               <SalesCode/>
               <LatestPaymentDate>2019-11-23</LatestPaymentDate>
               <CreditNote>true</CreditNote>
               <RefusalType/>
               <InvoiceTypeCode>I</InvoiceTypeCode>
               <InvoiceFlowTypeCode>SELL</InvoiceFlowTypeCode>
               <SupplierCode/>
               <InvoiceNumberSupplier/>
               <ScanInformation/>
               <InternalNumber/>
               <InternalReference/>
               <ArticleGroup/>
               <CountryCode>BE</CountryCode>
               <CurrencyTypeCode>EUR</CurrencyTypeCode>
               <TotalNetAmount>5000.0000</TotalNetAmount>
               <TotalVATAmount>1050.0000</TotalVATAmount>
               <TotalAmount>6050.0000</TotalAmount>
               <RestAmount>6050.0000</RestAmount>
               <AdditionalInformation>Opsommer Vincent Opsommer Vincent, Prins-Regentstraat 18, 8930 Menen
Onze Ref.4957919</AdditionalInformation>
               <SendToCustomer>true</SendToCustomer>
               <SendToArchive>true</SendToArchive>
               <SendToBooking>true</SendToBooking>
               <BatchID/>
			<InvoiceDate>2019-10-24</InvoiceDate>
               <SpartaQueueId></SpartaQueueId>
               <PayableInformation/>
               <OrderInformation/>
               <VATForeignNumber>FR0845</VATForeignNumber>
            </InvoiceDetails>
            <InvoiceLines>
               <InputInvoiceLine_IS>
                  <ShowOnInvoice>true</ShowOnInvoice>
                  <ReferenceCode>5532</ReferenceCode>
                  <ContractTypeCode>M</ContractTypeCode>
                  <CompletionTypeCode>E</CompletionTypeCode>
                  <Description>/ Uw Ref.WAUZZZ8U3DR001232
Taxikosten</Description>
                 <Quantity>1</Quantity>
                  <UnitPrice>5000.0000</UnitPrice>
                  <Amount>5000.0000</Amount>
                  <BalanceTypeCode>D</BalanceTypeCode>
                  <DiscountGroup/>
                  <CostCode>553</CostCode>
                  <AdditionalInformation1/>
                  <AdditionalInformation2/>
                  <AdditionalInformation3/>
                  <AdditionalInformation4/>
                  <AdditionalInformation5/>
                  <BookingLines>
                     <InputInvoiceBookingLine_IS>
                        <Amount>5000.0000</Amount>
                        <VATCode>V04</VATCode>
                        <VATDescription/>
                        <VATRate>21.0000</VATRate>
                        <VATAmount>1050.0000</VATAmount>
                        <AdditionalInformation6/>
                     </InputInvoiceBookingLine_IS>
                  </BookingLines>
               </InputInvoiceLine_IS>
            </InvoiceLines>
            <InvoicePayment>
               <PaymentTypeCode>B</PaymentTypeCode>
               <OGM>002/4715/44640</OGM>
               <SEPARefused>false</SEPARefused>
            </InvoicePayment>
         </Input>
      </GenerateInvoice>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/GenerateInvoiceRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="6b60d49b-1267-4b88-9538-49e76731fb5a" isOneWay="false" action="http://Invoice_API/Invoice/GetInvoiceAttachments" name="GetInvoiceAttachments" bindingOperationName="GetInvoiceAttachments" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="a844733f-daa4-46e1-a8af-3877b8bad899" name="Request 1" outgoingWss="" incomingWss=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">\r
   <soap:Header/>\r
   <soap:Body>\r
      <out:GetInvoiceAttachments>\r
         <!--Optional:-->\r
         <out:Audit>\r
            <!--Optional:-->\r
            <out:User>?</out:User>\r
            <!--Optional:-->\r
            <out:Source>?</out:Source>\r
         </out:Audit>\r
         <!--Optional:-->\r
         <out:Input>\r
            <!--Optional:-->\r
            <out:InvoiceNumber>?</out:InvoiceNumber>\r
         </out:Input>\r
      </out:GetInvoiceAttachments>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/GetInvoiceAttachmentsRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="f55d6cda-53eb-4d4f-8df9-94e2f5ecc142" isOneWay="false" action="http://Invoice_API/Invoice/GetInvoicePDF" name="GetInvoicePDF" bindingOperationName="GetInvoicePDF" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="47292c17-801e-4caf-b9dc-edda35f1b54f" name="Request 1" outgoingWss="" incomingWss=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">\r
   <soap:Header/>\r
   <soap:Body>\r
      <out:GetInvoicePDF>\r
         <!--Optional:-->\r
         <out:Audit>\r
            <!--Optional:-->\r
            <out:User>?</out:User>\r
            <!--Optional:-->\r
            <out:Source>?</out:Source>\r
         </out:Audit>\r
         <!--Optional:-->\r
         <out:Input>\r
            <!--Optional:-->\r
            <out:InvoiceNumber>?</out:InvoiceNumber>\r
            <out:IsDuplicatePDF>?</out:IsDuplicatePDF>\r
         </out:Input>\r
      </out:GetInvoicePDF>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/GetInvoicePDFRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="2e4c35fd-2460-416d-80ae-1c859a57a973" isOneWay="false" action="http://Invoice_API/Invoice/PreviewInvoice" name="PreviewInvoice" bindingOperationName="PreviewInvoice" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="bec5beb7-5236-4293-8422-48c27d9c8002" name="Request 1" outgoingWss="" incomingWss=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">\r
   <soap:Header/>\r
   <soap:Body>\r
      <out:PreviewInvoice>\r
         <!--Optional:-->\r
         <out:Audit>\r
            <!--Optional:-->\r
            <out:User>?</out:User>\r
            <!--Optional:-->\r
            <out:Source>?</out:Source>\r
         </out:Audit>\r
         <!--Optional:-->\r
         <out:Input>\r
            <!--Optional:-->\r
            <out:Customer>\r
               <!--Optional:-->\r
               <out:CustomerTypeCode>?</out:CustomerTypeCode>\r
               <!--Optional:-->\r
               <out:ContactTypeCode>?</out:ContactTypeCode>\r
               <out:CustomerNumber>?</out:CustomerNumber>\r
               <!--Optional:-->\r
               <out:VAT>?</out:VAT>\r
               <!--Optional:-->\r
               <out:CompanyNumber>?</out:CompanyNumber>\r
               <!--Optional:-->\r
               <out:CompanyName>?</out:CompanyName>\r
               <!--Optional:-->\r
               <out:FirstName>?</out:FirstName>\r
               <!--Optional:-->\r
               <out:LastName>?</out:LastName>\r
               <!--Optional:-->\r
               <out:IBAN>?</out:IBAN>\r
               <!--Optional:-->\r
               <out:BIC>?</out:BIC>\r
               <!--Optional:-->\r
               <out:GenderCode>?</out:GenderCode>\r
               <!--Optional:-->\r
               <out:LanguageCode>?</out:LanguageCode>\r
               <!--Optional:-->\r
               <out:Email>?</out:Email>\r
               <!--Optional:-->\r
               <out:CommunicationChannelCode>?</out:CommunicationChannelCode>\r
               <!--Optional:-->\r
               <out:CareOf>?</out:CareOf>\r
            </out:Customer>\r
            <!--Optional:-->\r
            <out:InvoiceAddress>\r
               <!--Optional:-->\r
               <out:Name>?</out:Name>\r
               <!--Optional:-->\r
               <out:CareOf>?</out:CareOf>\r
               <!--Optional:-->\r
               <out:CompanyLegalForm>?</out:CompanyLegalForm>\r
               <!--Optional:-->\r
               <out:Street>?</out:Street>\r
               <!--Optional:-->\r
               <out:Number>?</out:Number>\r
               <!--Optional:-->\r
               <out:Bus>?</out:Bus>\r
               <!--Optional:-->\r
               <out:Zip>?</out:Zip>\r
               <!--Optional:-->\r
               <out:City>?</out:City>\r
               <!--Optional:-->\r
               <out:CountryCode>?</out:CountryCode>\r
            </out:InvoiceAddress>\r
            <!--Optional:-->\r
            <out:DeliveryAddress>\r
               <!--Optional:-->\r
               <out:Name>?</out:Name>\r
               <!--Optional:-->\r
               <out:CareOf>?</out:CareOf>\r
               <!--Optional:-->\r
               <out:CompanyLegalForm>?</out:CompanyLegalForm>\r
               <!--Optional:-->\r
               <out:Street>?</out:Street>\r
               <!--Optional:-->\r
               <out:Number>?</out:Number>\r
               <!--Optional:-->\r
               <out:Bus>?</out:Bus>\r
               <!--Optional:-->\r
               <out:Zip>?</out:Zip>\r
               <!--Optional:-->\r
               <out:City>?</out:City>\r
               <!--Optional:-->\r
               <out:CountryCode>?</out:CountryCode>\r
            </out:DeliveryAddress>\r
            <!--Optional:-->\r
            <out:Company>\r
               <!--Optional:-->\r
               <out:CompanyName>?</out:CompanyName>\r
               <!--Optional:-->\r
               <out:VAT>?</out:VAT>\r
               <!--Optional:-->\r
               <out:CompanyNumber>?</out:CompanyNumber>\r
               <!--Optional:-->\r
               <out:ContactPerson>?</out:ContactPerson>\r
               <!--Optional:-->\r
               <out:TelephoneNumber>?</out:TelephoneNumber>\r
               <!--Optional:-->\r
               <out:BusinessCode>?</out:BusinessCode>\r
               <!--Optional:-->\r
               <out:FaxNumber>?</out:FaxNumber>\r
               <!--Optional:-->\r
               <out:ContactEmail>?</out:ContactEmail>\r
               <!--Optional:-->\r
               <out:IBAN>?</out:IBAN>\r
               <!--Optional:-->\r
               <out:BIC>?</out:BIC>\r
               <!--Optional:-->\r
               <out:Website>?</out:Website>\r
               <!--Optional:-->\r
               <out:Courthouse>?</out:Courthouse>\r
               <!--Optional:-->\r
               <out:Street>?</out:Street>\r
               <!--Optional:-->\r
               <out:Number>?</out:Number>\r
               <!--Optional:-->\r
               <out:Bus>?</out:Bus>\r
               <!--Optional:-->\r
               <out:Zip>?</out:Zip>\r
               <!--Optional:-->\r
               <out:City>?</out:City>\r
               <!--Optional:-->\r
               <out:CountryCode>?</out:CountryCode>\r
               <!--Optional:-->\r
               <out:CompanyShortName>?</out:CompanyShortName>\r
            </out:Company>\r
            <!--Optional:-->\r
            <out:InvoiceDetails>\r
               <!--Optional:-->\r
               <out:EntityId>?</out:EntityId>\r
               <!--Optional:-->\r
               <out:SalesCode>?</out:SalesCode>\r
               <out:LatestPaymentDate>?</out:LatestPaymentDate>\r
               <!--Optional:-->\r
               <out:ReferencedInvoiceNumber>?</out:ReferencedInvoiceNumber>\r
               <out:InterventionDate>?</out:InterventionDate>\r
               <out:CreditNote>?</out:CreditNote>\r
               <!--Optional:-->\r
               <out:RefusalType>?</out:RefusalType>\r
               <out:StartDate>?</out:StartDate>\r
               <out:EndDate>?</out:EndDate>\r
               <!--Optional:-->\r
               <out:InvoiceTypeCode>?</out:InvoiceTypeCode>\r
               <!--Optional:-->\r
               <out:InvoiceFlowTypeCode>?</out:InvoiceFlowTypeCode>\r
               <!--Optional:-->\r
               <out:SupplierCode>?</out:SupplierCode>\r
               <!--Optional:-->\r
               <out:InvoiceNumberSupplier>?</out:InvoiceNumberSupplier>\r
               <!--Optional:-->\r
               <out:ScanInformation>?</out:ScanInformation>\r
               <!--Optional:-->\r
               <out:InternalNumber>?</out:InternalNumber>\r
               <!--Optional:-->\r
               <out:InternalReference>?</out:InternalReference>\r
               <!--Optional:-->\r
               <out:ArticleGroup>?</out:ArticleGroup>\r
               <!--Optional:-->\r
               <out:CountryCode>?</out:CountryCode>\r
               <!--Optional:-->\r
               <out:CurrencyTypeCode>?</out:CurrencyTypeCode>\r
               <out:TotalNetAmount>?</out:TotalNetAmount>\r
               <out:TotalVATAmount>?</out:TotalVATAmount>\r
               <out:TotalAmount>?</out:TotalAmount>\r
               <out:RestAmount>?</out:RestAmount>\r
               <out:PaidAmount>?</out:PaidAmount>\r
               <out:PaidDate>?</out:PaidDate>\r
               <!--Optional:-->\r
               <out:AdditionalInformation>?</out:AdditionalInformation>\r
               <out:SendToCustomer>?</out:SendToCustomer>\r
               <out:SendToArchive>?</out:SendToArchive>\r
               <out:SendToBooking>?</out:SendToBooking>\r
               <!--Optional:-->\r
               <out:BatchID>?</out:BatchID>\r
               <out:InvoiceDate>?</out:InvoiceDate>\r
               <!--Optional:-->\r
               <out:SpartaQueueId>?</out:SpartaQueueId>\r
               <!--Optional:-->\r
               <out:PayableInformation>?</out:PayableInformation>\r
               <!--Optional:-->\r
               <out:OrderInformation>?</out:OrderInformation>\r
               <!--Optional:-->\r
               <out:VATForeignNumber>?</out:VATForeignNumber>\r
               <!--Optional:-->\r
               <out:FileNamePattern>?</out:FileNamePattern>\r
               <!--Optional:-->\r
               <out:deextnr>?</out:deextnr>\r
               <!--Optional:-->\r
               <out:InvoiceStatus>?</out:InvoiceStatus>\r
               <!--Optional:-->\r
               <out:AdditionalReferenceNumber>?</out:AdditionalReferenceNumber>\r
               <out:UbenchID>?</out:UbenchID>\r
               <!--Optional:-->\r
               <out:FleetOwner>?</out:FleetOwner>\r
               <!--Optional:-->\r
               <out:ExternalReference>?</out:ExternalReference>\r
               <!--Optional:-->\r
               <out:PolicyNumber>?</out:PolicyNumber>\r
               <!--Optional:-->\r
               <out:FileNumber>?</out:FileNumber>\r
            </out:InvoiceDetails>\r
            <!--Optional:-->\r
            <out:InvoiceLines>\r
               <!--Zero or more repetitions:-->\r
               <out:InputInvoiceLine_IS>\r
                  <out:ShowOnInvoice>?</out:ShowOnInvoice>\r
                  <!--Optional:-->\r
                  <out:ArticleNumber>?</out:ArticleNumber>\r
                  <!--Optional:-->\r
                  <out:Description>?</out:Description>\r
                  <out:Quantity>?</out:Quantity>\r
                  <out:UnitPrice>?</out:UnitPrice>\r
                  <out:Amount>?</out:Amount>\r
                  <out:AmountInclVAT>?</out:AmountInclVAT>\r
                  <!--Optional:-->\r
                  <out:BalanceTypeCode>?</out:BalanceTypeCode>\r
                  <!--Optional:-->\r
                  <out:DiscountGroup>?</out:DiscountGroup>\r
                  <!--Optional:-->\r
                  <out:CostCode>?</out:CostCode>\r
                  <!--Optional:-->\r
                  <out:AdditionalInformation1>?</out:AdditionalInformation1>\r
                  <!--Optional:-->\r
                  <out:AdditionalInformation2>?</out:AdditionalInformation2>\r
                  <!--Optional:-->\r
                  <out:AdditionalInformation3>?</out:AdditionalInformation3>\r
                  <!--Optional:-->\r
                  <out:AdditionalInformation4>?</out:AdditionalInformation4>\r
                  <!--Optional:-->\r
                  <out:AdditionalInformation5>?</out:AdditionalInformation5>\r
                  <!--Optional:-->\r
                  <out:ReferenceCode>?</out:ReferenceCode>\r
                  <!--Optional:-->\r
                  <out:ReferenceSubCode>?</out:ReferenceSubCode>\r
                  <!--Optional:-->\r
                  <out:ContractTypeCode>?</out:ContractTypeCode>\r
                  <!--Optional:-->\r
                  <out:CompletionTypeCode>?</out:CompletionTypeCode>\r
                  <!--Optional:-->\r
                  <out:BookingLines>\r
                     <!--Zero or more repetitions:-->\r
                     <out:InputInvoiceBookingLine_IS>\r
                        <out:Amount>?</out:Amount>\r
                        <!--Optional:-->\r
                        <out:VATCode>?</out:VATCode>\r
                        <!--Optional:-->\r
                        <out:VATDescription>?</out:VATDescription>\r
                        <out:VATRate>?</out:VATRate>\r
                        <out:VATAmount>?</out:VATAmount>\r
                        <!--Optional:-->\r
                        <out:AdditionalInformation6>?</out:AdditionalInformation6>\r
                        <!--Optional:-->\r
                        <out:ArticleNumber>?</out:ArticleNumber>\r
                        <!--Optional:-->\r
                        <out:BalanceTypeCode>?</out:BalanceTypeCode>\r
                        <!--Optional:-->\r
                        <out:DiscountGroup>?</out:DiscountGroup>\r
                        <!--Optional:-->\r
                        <out:CostCode>?</out:CostCode>\r
                        <!--Optional:-->\r
                        <out:ReferenceCode>?</out:ReferenceCode>\r
                        <!--Optional:-->\r
                        <out:ReferenceSubCode>?</out:ReferenceSubCode>\r
                        <!--Optional:-->\r
                        <out:ContractTypeCode>?</out:ContractTypeCode>\r
                        <!--Optional:-->\r
                        <out:CompletionTypeCode>?</out:CompletionTypeCode>\r
                        <!--Optional:-->\r
                        <out:ProductCode>?</out:ProductCode>\r
                     </out:InputInvoiceBookingLine_IS>\r
                  </out:BookingLines>\r
               </out:InputInvoiceLine_IS>\r
            </out:InvoiceLines>\r
            <!--Optional:-->\r
            <out:InvoicePayment>\r
               <!--Optional:-->\r
               <out:PaymentTypeCode>?</out:PaymentTypeCode>\r
               <!--Optional:-->\r
               <out:OGM>?</out:OGM>\r
               <!--Optional:-->\r
               <out:Mandate>?</out:Mandate>\r
               <out:SEPARefused>?</out:SEPARefused>\r
               <!--Optional:-->\r
               <out:SEPALot>?</out:SEPALot>\r
               <!--Optional:-->\r
               <out:SEPADocument>?</out:SEPADocument>\r
               <!--Optional:-->\r
               <out:SEPAOGM>?</out:SEPAOGM>\r
               <!--Optional:-->\r
               <out:SEPAMessage>?</out:SEPAMessage>\r
            </out:InvoicePayment>\r
         </out:Input>\r
      </out:PreviewInvoice>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/PreviewInvoiceRequest"/></con:call></con:operation><con:operation id="3d01735d-30b7-487d-b5a4-5b2d7cd85a8f" isOneWay="false" action="http://Invoice_API/Invoice/SetInvoiceAttachments" name="SetInvoiceAttachments" bindingOperationName="SetInvoiceAttachments" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="39a27d8d-3423-4a23-823b-37cb3d7cefdb" name="Request 1" outgoingWss="" incomingWss=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">\r
   <soap:Header/>\r
   <soap:Body>\r
      <out:SetInvoiceAttachments>\r
         <!--Optional:-->\r
         <out:Audit>\r
            <!--Optional:-->\r
            <out:User>?</out:User>\r
            <!--Optional:-->\r
            <out:Source>?</out:Source>\r
         </out:Audit>\r
         <!--Optional:-->\r
         <out:Input>\r
            <!--Optional:-->\r
            <out:InvoiceNumber>?</out:InvoiceNumber>\r
            <!--Optional:-->\r
            <out:AttachmentList>\r
               <!--Zero or more repetitions:-->\r
               <out:Attachment>\r
                  <!--Optional:-->\r
                  <out:Filename>?</out:Filename>\r
                  <!--Optional:-->\r
                  <out:MimeType>?</out:MimeType>\r
                  <!--Optional:-->\r
                  <out:Description>?</out:Description>\r
                  <!--Optional:-->\r
                  <out:Content>cid:703718106096</out:Content>\r
               </out:Attachment>\r
            </out:AttachmentList>\r
         </out:Input>\r
      </out:SetInvoiceAttachments>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/SetInvoiceAttachmentsRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="4faada01-9a36-49c4-a07e-704e60fa6555" isOneWay="false" action="http://Invoice_API/Invoice/UpdatePaymentAmount" name="UpdatePaymentAmount" bindingOperationName="UpdatePaymentAmount" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="deaa39d1-5cba-4921-9239-5a0b0e87de95" name="Request 1" outgoingWss="" incomingWss=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">\r
   <soap:Header/>\r
   <soap:Body>\r
      <out:UpdatePaymentAmount>\r
         <!--Optional:-->\r
         <out:Audit>\r
            <!--Optional:-->\r
            <out:User>?</out:User>\r
            <!--Optional:-->\r
            <out:Source>?</out:Source>\r
         </out:Audit>\r
         <!--Optional:-->\r
         <out:Input>\r
            <!--Optional:-->\r
            <out:InvoiceNumber>?</out:InvoiceNumber>\r
            <out:TotalNetAmount>?</out:TotalNetAmount>\r
            <out:TotalVatAmount>?</out:TotalVatAmount>\r
            <out:TotalAmount>?</out:TotalAmount>\r
            <!--Optional:-->\r
            <out:Description>?</out:Description>\r
            <!--Optional:-->\r
            <out:MessageIdentification>?</out:MessageIdentification>\r
            <!--Optional:-->\r
            <out:LotIdentification>?</out:LotIdentification>\r
            <!--Optional:-->\r
            <out:PaymentMethod>?</out:PaymentMethod>\r
            <out:PayDate>?</out:PayDate>\r
         </out:Input>\r
      </out:UpdatePaymentAmount>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/UpdatePaymentAmountRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="0466987a-7da0-4f01-ba49-d0dae4e303a1" isOneWay="false" action="http://Invoice_API/Invoice/UpdatePaymentRefusalStatus" name="UpdatePaymentRefusalStatus" bindingOperationName="UpdatePaymentRefusalStatus" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="73fac571-e36d-4d04-b444-eaa7f2cfc3ce" name="Request 1" outgoingWss="" incomingWss=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">\r
   <soap:Header/>\r
   <soap:Body>\r
      <out:UpdatePaymentRefusalStatus>\r
         <!--Optional:-->\r
         <out:Audit>\r
            <!--Optional:-->\r
            <out:User>?</out:User>\r
            <!--Optional:-->\r
            <out:Source>?</out:Source>\r
         </out:Audit>\r
         <!--Optional:-->\r
         <out:Input>\r
            <!--Optional:-->\r
            <out:InvoiceNumber>?</out:InvoiceNumber>\r
            <!--Optional:-->\r
            <out:PaymentStatusTypeCode>?</out:PaymentStatusTypeCode>\r
         </out:Input>\r
      </out:UpdatePaymentRefusalStatus>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/UpdatePaymentRefusalStatusRequest"/></con:call></con:operation><con:operation id="20272755-60ad-421b-a0f0-9b3bc8fd347f" isOneWay="false" action="http://Invoice_API/Invoice/convertProformaInvoice" name="convertProformaInvoice" bindingOperationName="convertProformaInvoice" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="2476892a-cbd3-49de-b373-dc355e5e15fb" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:out="http://www.outsystems.com">
   <soapenv:Header/>
   <soapenv:Body>
      <out:convertProformaInvoice>
         <!--Optional:-->
         <out:Audit>
            <!--Optional:-->
            <out:User>SPARTA_IS</out:User>
            <!--Optional:-->
            <out:Source>SPARTA</out:Source>
         </out:Audit>
         <!--Optional:-->
         <out:Input>
            <!--Optional:-->
            <out:InvoiceNumber>P2006400015</out:InvoiceNumber>
            <!--Optional:-->
            <out:InvoiceCallbackEndpoint>?</out:InvoiceCallbackEndpoint>
         </out:Input>
      </out:convertProformaInvoice>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/convertProformaInvoiceRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:testSuite id="5406731c-dccd-4631-bb7a-b71ede77fbb9" name="Library" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="b1559786-739f-42e5-b04a-9eecddcff5d1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Common Scripts" searchProperties="true"><con:settings/><con:testStep type="groovy" name="LibraryAXIDatabase" id="1a5c83ee-07cf-4392-9c4b-923caaa1c6df"><con:settings/><con:config><script>class RequestXML {
	def log
     def context
     def testRunner

	def RequestXML(logIn, contextIn, testRunnerIn) {
        this.log = logIn
        this.context = contextIn
        this.testRunner = testRunnerIn
     }

	def getRequestXML(){
		log.info "getRequestXML"
		def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
		def holder = groovyUtils.getXmlHolder("Generate#Request")
		
		log.info "Define a namespace"
		holder.namespaces["ns"] = "http://www.outsystems.com"
		
		return holder
	}

	def getResponseXML(propertyValue){
		log.info "getResponseHeaderXML"
		def responseHeader= context.testCase.testSuite.project.getPropertyValue(propertyValue).toString()
		def xml=new XmlSlurper().parseText(responseHeader)

		return xml
	}
	

	def compareDoubleLists(originalList, compareList){		
		log.info "compareDoubleLists"	
		def counter=0;		
		for (item in originalList) { 
			log.info( item ) 
			def actualValue = (item as double).round(2)
			def expectedValue = (compareList[counter] as double).round(2)
			log.info "Actual result = " + actualValue + ", Expected result = " + expectedValue
			assert actualValue.equals(expectedValue)
			counter++;
		}
	}
	def compareLists(originalList, compareList){		
		log.info "compareLists"
		def counter=0;		
		for (item in originalList) { 
			def actualValue = item
			def expectedValue = compareList[counter]
			log.info "Actual result = " + actualValue + ", Expected result = " + expectedValue
			assert actualValue.equals(expectedValue)
			counter++;
		}
	}
	
	def compareListToValue(originalList, compareValue){		
		log.info "compareListToValue"
		def counter=0;		
		for (item in originalList) { 
			def actualValue = item
			log.info "Actual result = " + actualValue + ", Expected result = " + compareValue
			assert actualValue.equals(compareValue)
			counter++;
		}
	}
	
	def assertInvoiceParameters(holder,xmlHeader,xmlLines,invoiceType){
		log.info "assertInvoiceParameters"
		context.isCreditNote=holder.getNodeValue("//ns:InvoiceDetails/ns:CreditNote");
		def linesDED_CCE = xmlLines.'**'.findAll{node -> node.name() == 'DED_CCE'}*.text();
		log.info("isCreditNote = " + context.isCreditNote);
		
		/*def xml=new XmlSlurper().parseText(holder)
		log.info("holder string = " + xml);*/
		
		if (context.isCreditNote.equals("false")){
			log.info "Invoice is not a creditnote";
			log.info "Check DEFAKCR";
			log.info "Actual result = " +xmlHeader.ResultSet.Row.DEFAKCR.text() + ", Expected result = F";
			assert xmlHeader.ResultSet.Row.DEFAKCR.text().equals("F");
		
			log.info "Check DED_CCE for invoice header";
			log.info "Actual result = " +xmlHeader.ResultSet.Row.DED_CCE.text() + ", Expected result = D";
			assert xmlHeader.ResultSet.Row.DED_CCE.text().equals("D");
	
			log.info "Check DED_CCE for invoice lines";
			compareListToValue(linesDED_CCE,"K");
		
		}else{	
			log.info "Invoice is a creditnote";
			log.info "Check DEFAKCR";
			log.info "Actual result = " +xmlHeader.ResultSet.Row.DEFAKCR.text() + ", Expected result = K";
			assert xmlHeader.ResultSet.Row.DEFAKCR.text().equals("K");
		
			log.info "Check DED_CCE for invoice header"
			log.info "Actual result = " +xmlHeader.ResultSet.Row.DED_CCE.text() + ", Expected result = K";
			assert xmlHeader.ResultSet.Row.DED_CCE.text().equals("K");
			
			log.info "Check DED_CCE for invoice lines"
			compareListToValue(linesDED_CCE,"D");
		}
	}

	
	def assertAttachmentxmlHeader(invoiceNumber,xmlHeader, invoiceType){
		log.info "assertAttachment"
		log.info "Check DEATTCH"

		if(invoiceType == "SelfBill"){
			log.info "Actual result = "+ xmlHeader.ResultSet.Row.DEATTCH.text() +", Expected result = ";
			assert xmlHeader.ResultSet.Row.DEATTCH.text().equals("");		
		}else{
			log.info "Actual result = "+ xmlHeader.ResultSet.Row.DEATTCH.text() +", Expected result =  https://" + context.expand('${#Project#soapURL}')+"/Routty_API/rest/RouttyConnector/Documents\\?invoicenumber="+invoiceNumber
			def regExAttachment="(https:\\/\\/"+context.expand('${#Project#soapURL}')+"/Routty_API/rest/RouttyConnector/Documents\\?invoicenumber=)"+invoiceNumber
			def urlDigitalArchive= "https://"+context.expand('${#Project#soapURL}')+"/Routty_API/rest/RouttyConnector/Documents?invoicenumber="+invoiceNumber;
			
			def dbAttachment=xmlHeader.ResultSet.Row.DEATTCH.text()
			def resultRegExAttachment=(dbAttachment =~ regExAttachment)
			assert resultRegExAttachment.count == 1			
		}
	}

	def assertExtraDetails(holder,xmlHeader,xmlLines, invoiceType){		
		log.info "assertExtraDetails"
		def exepectedVAT;
		def expectedOGM;
		def expectedAdditionalInfo;
		log.info "Get values from response"
		context.VAT=holder.getNodeValue("//ns:Company/ns:VAT")
		context.OGM=holder.getNodeValue("//ns:InvoicePayment/ns:OGM")	
		context.AdditionalInfo=holder.getNodeValue("//ns:InputInvoiceBookingLine_IS/ns:AdditionalInformation6")
		
		def linesOGM = xmlLines.'**'.findAll{node -> node.name() == 'DEFLC14'}*.text();
		def linesDETRAOM = xmlLines.'**'.findAll{node -> node.name() == 'DETRAOM'}*.text();


		if(invoiceType =="SelfBill"){
			exepectedVAT= "";
			expectedOGM= "";
			expectedAdditionalInfo= "";
		}else{
			exepectedVAT= context.VAT;
			expectedOGM= context.OGM
			expectedAdditionalInfo= context.AdditionalInfo;
		}
		
		log.info "Check header DEBTWNR"
		log.info "Actual result = " +xmlHeader.ResultSet.Row.DEBTWNR.text() + ", Expected result = " +context.VAT
		assert xmlHeader.ResultSet.Row.DEBTWNR.text().equals(exepectedVAT)

		log.info "Check header OGM"
		log.info "Actual result = " +xmlHeader.ResultSet.Row.DEFLC14.text() + ", Expected result = " +context.OGM
		assert xmlHeader.ResultSet.Row.DEFLC14.text().equals(expectedOGM)
		
		log.info "Check lines OGM"
		compareListToValue(linesOGM,expectedOGM);
		
		if(context.AdditionalInfo!= null){
			log.info "Check lines DETRAOM"
			compareListToValue(linesDETRAOM,expectedAdditionalInfo);
		}
	}

	

	def assertAmountsHeader(holder,xmlHeader){		
		log.info "assertAmountsHeader"
		log.info "Get values from response" + xmlHeader
		context.TotalNetAmount=holder.getNodeValue("//ns:InvoiceDetails/ns:TotalNetAmount")	
		context.TotalVATAmount=holder.getNodeValue("//ns:InvoiceDetails/ns:TotalVATAmount")	
		context.TotalAmount=holder.getNodeValue("//ns:InvoiceDetails/ns:TotalAmount")	
		context.RestAmount=holder.getNodeValue("//ns:InvoiceDetails/ns:RestAmount")	

		log.info "Assertions amount"
		log.info "Check DEBM_BG" 
		def xmlTotalAmount = (context.TotalAmount as double).round(2)
		def dbTotalAmount = (xmlHeader.ResultSet.Row.DEBM_BG.text() as double).round(2)
	
		log.info "Actual result = " + xmlTotalAmount+ ", Expected result = " + dbTotalAmount
		assert dbTotalAmount.equals(xmlTotalAmount)
	}
	
	def assertAmountsLines(holder,xmlLines){		
		log.info "assertAmountsInvoiceLines"
		log.info "Get values from response"
		context.Amounts=holder.getNodeValues("//ns:InputInvoiceBookingLine_IS/ns:Amount")	
		context.VATAmounts=holder.getNodeValues("//ns:InputInvoiceBookingLine_IS/ns:VATAmount")	
		context.VATCodes=holder.getNodeValues("//ns:InputInvoiceBookingLine_IS/ns:VATCode")	
		
		def linesDEMAATB = xmlLines.'**'.findAll{node -> node.name() == 'DEMAATB'}*.text();
		def linesDEBTWBB = xmlLines.'**'.findAll{node -> node.name() == 'DEBTWBB'}*.text();
		def linesDEBTWCE = xmlLines.'**'.findAll{node -> node.name() == 'DEBTWCE'}*.text();	

		log.info "Assertions amount"
		log.info "Check DEMAATB" 
		compareDoubleLists(context.Amounts,linesDEMAATB);
		
		log.info "Check DEBTWBB"		
		compareDoubleLists(context.VATAmounts,linesDEBTWBB);

		log.info "Check DEBTWCE" 
		compareLists(context.VATCodes,linesDEBTWCE);
	}

	
	def assertAmountsLinesSelfBill(holder,xmlLines){		
		log.info "assertAmountsLinesSelfBill"
		log.info "Get values from response"
		context.Amounts=holder.getNodeValues("//ns:InputInvoiceLine_IS/ns:CommissionAmount")	
		context.VATCodes=holder.getNodeValues("//ns:InputInvoiceLine_IS/ns:BTWcode")	
		
		def linesDEMAATB = xmlLines.'**'.findAll{node -> node.name() == 'DEMAATB'}*.text();
		def linesDEBTWBB = xmlLines.'**'.findAll{node -> node.name() == 'DEBTWBB'}*.text();
		def linesDEBTWCE = xmlLines.'**'.findAll{node -> node.name() == 'DEBTWCE'}*.text();	

		log.info "Assertions amount"
		log.info "Check DEMAATB" 
		
		def totalLines = linesDEMAATB.size();
		log.info "totalLines = " + totalLines;
		for(int i=0;i&lt;totalLines-1;i++){	
			def actualValue = (linesDEMAATB.get(i) as double).round(2)
			def expectedValue = (context.Amounts[i] as double).round(2)
			log.info "Actual result = " + actualValue + ", Expected result = " + expectedValue
			assert actualValue.equals(expectedValue);
		}
		
		//Testen op laatste lijn is negatief:
		def actualValue = (linesDEMAATB.get(totalLines-1) as double).round(2)
		def expectedValue = -(context.Amounts[totalLines-1] as double).round(2)
		log.info "Actual result = " + actualValue + ", Expected result = " + expectedValue
		assert actualValue.equals(expectedValue);

		log.info "Check linesDEBTWBB" 
		for(int i=0;i&lt;totalLines;i++){	
			if ( linesDEBTWBB.get(i).isEmpty()){
				log.info "Actual result = null, Expected result = null";
			}else{
				context.getTestRunner.fail("Expected linesDEBTWBB is null");
			}
		}
		
		log.info "Check DEBTWCE" 
		compareLists(context.VATCodes,linesDEBTWCE);
	}
	
	
	def assertionsAXI(){
		log.info "assertionsAXI"
		def holder=getRequestXML()
		def xmlHeader=getResponseXML("ResponseAsXMLHeader")	
		def xmlLines=getResponseXML("ResponseAsXMLLines")		
		
		log.info "Get InvoiceNumber"
		def invoiceNumber= context.testCase.testSuite.project.getPropertyValue("invoiceNumber").toString()
				
		log.info "Assertions for invoice lines parameters"
		assertInvoiceParameters(holder,xmlHeader,xmlLines,"")
		
		log.info "Assertions for attachment on invoice"
		assertAttachmentxmlHeader(invoiceNumber,xmlHeader,"")

		log.info "Assertions for extra details"
		assertExtraDetails(holder,xmlHeader,xmlLines,"")
		
		log.info "Check amounts header"
		assertAmountsHeader(holder,xmlHeader)

		log.info "Check amounts lines"
		assertAmountsLines(holder,xmlLines)	
	}

	def assertionsSelfBillsAXI(){
		log.info "assertionsSelfBillsAXI"
		def holder=getRequestXML()
		def xmlHeader=getResponseXML("ResponseAsXMLHeader")	
		def xmlLines=getResponseXML("ResponseAsXMLLines")		
		
		log.info "Get InvoiceNumber"
		def invoiceNumber= context.testCase.testSuite.project.getPropertyValue("invoiceNumber").toString()

		log.info "Assertions for invoice lines parameters"
		assertInvoiceParameters(holder,xmlHeader,xmlLines,"SelfBill");

		log.info "Assertions for attachment on invoice"
		assertAttachmentxmlHeader(invoiceNumber,xmlHeader,"SelfBill");

		log.info "Assertions for extra details"
		assertExtraDetails(holder,xmlHeader,xmlLines,"SelfBill");
		
		log.info "Check amounts header"
		assertAmountsHeader(holder,xmlHeader)
		
		log.info "Check amounts lines"
		assertAmountsLinesSelfBill(holder,xmlLines)					
	}

	
	def assertInvoicePayments(holder,xmlPayments){
		log.info "assertInvoiceParameters"		
		log.info "Get values from response"
		
		def arrLinesDEDBKCE = xmlPayments.'**'.findAll{node -> node.name() == 'DEDBKCE'}*.text();
		def arrLinesDED_CCE = xmlPayments.'**'.findAll{node -> node.name() == 'DED_CCE'}*.text();
		def arrLinesDEKLALE = xmlPayments.'**'.findAll{node -> node.name() == 'DEKLALE'}*.text();

		log.info "assert DEDBKCE"
		for(int i=0;i&lt;arrLinesDEDBKCE.size;i++){	
			def actualValue = arrLinesDEDBKCE.get(i);
			def expectedValue = "OA"
			log.info "Actual result = " + actualValue + ", Expected result = " + expectedValue
			assert actualValue.equals(expectedValue);
		}
		
		log.info "assert DEKLALE"
		for(int i=0;i&lt;arrLinesDEKLALE.size;i++){	
			def actualValue = arrLinesDEKLALE.get(i);
			def expectedValue = "K"
			log.info "Actual result = " + actualValue + ", Expected result = " + expectedValue
			assert actualValue.equals(expectedValue);
		}
		
		
	}
	def assertionsProductionStateAXI(){
		log.info "assertionsProductionStateAXI"
		def holder=getRequestXML()
		def xmlPayments=getResponseXML("ResponseAsXMLPayments")	
		
		log.info "Get InvoiceNumber"
		def invoiceNumber= context.testCase.testSuite.project.getPropertyValue("invoiceNumber").toString()
				
		log.info "Assertions for invoice lines parameters"
		assertInvoicePayments(holder, xmlPayments)
	}
}

// Other scripts elsewhere in SoapUI will access the reused class through their context
context.setProperty( "RequestXML", new RequestXML(log, context, testRunner) )</script></con:config></con:testStep><con:testStep type="groovy" name="LoopDatabaseConnection" id="1192ace4-bad5-4905-ad56-f714a69e24ca"><con:settings/><con:config><script>class loopDatabase {
	def log
     def context
     def testRunner

	def loopDatabase(logIn, contextIn, testRunnerIn) {
        this.log = logIn
        this.context = contextIn
        this.testRunner = testRunnerIn
     }

     def loopConnect(testStepName,maxCounter){
     	log.info "loopConnect"
		def response= context.testCase.testSteps[testStepName].getPropertyValue("ResponseAsXml").toString()
		def xml=new XmlSlurper().parseText(response)
		def counter=0	
		
		while (counter&lt;maxCounter){
			if (xml.ResultSet.Row.text().size()>0){
				log.info "Result is found"
				counter = maxCounter
			}
			else{		
				log.info "Result is not found"
						
				response= context.testCase.testSteps[testStepName].getPropertyValue("ResponseAsXml").toString()
				xml=new XmlSlurper().parseText(response)
		
				Thread.sleep(2000)
				testRunner.runTestStepByName(testStepName)
				counter++
			}
		}
     }
}

// Other scripts elsewhere in SoapUI will access the reused class through their context
context.setProperty( "loopDatabase", new loopDatabase(log, context, testRunner) )</script></con:config></con:testStep><con:testStep type="groovy" name="Loop Connection AXI Database" id="150d552f-4b8d-4e97-9d6b-1dd620307934"><con:settings/><con:config><script>// Initialize variables
def maxCounter=5

// Import the class LoopDatabaseConnection
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LoopDatabaseConnection"].run(testRunner, context)

// Launch loopConnect
context.loopDatabase.loopConnect("AXIDatabaseResult",maxCounter)</script></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseGetInvoiceHeader" id="7d68172f-f5b6-4443-8931-3aed3d7bda7f"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
  fh.DEFLC01, 
  fh.DEFAKCR, 
  fh.DEATTCH, 
  fh.DED_CCE, 
  fh.DEBM_BG,
  fh.DEBTWNR,
  fh.DEFLC14
from sysb.drbatfh fh
where fh.DEFLC01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseGetInvoiceLines" id="586e90ac-6434-41d1-b212-2d5e450f974a"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
	fl.DEFLC01,
	fl.DEMAATB,
	fl.DEBTWBB,
	fl.DEBTWCE,
	fl.DED_CCE,
	fl.DETRAOM,
	fl.DEFLC14
from sysb.drbatfl fl
where fl.deflc01 = :invoiceNumber
order by fl.DEMAATB desc</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseGetInvoicePayments" id="9b623425-b0ff-4557-b0ab-39d90388448b"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
	dbat.DEDBKCE,
  	dbat.DED_CCE,
  	dbat.DEKLALE,
  	dbat.DEBM_BG
from sysb.drbatml dbat
where dbat.DEFLC01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="TransferResponseXML" id="e1f21833-46de-4beb-a8bb-cbc8e557827f"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ResponseAsXMLLines</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>AXIDatabaseGetInvoiceLines</con:sourceStep><con:targetType>ResponseAsXMLLines</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>ResponseAsXMLHeader</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>AXIDatabaseGetInvoiceHeader</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>ResponseAsXMLHeader</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ResponseAsXMLPayments</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>AXIDatabaseGetInvoicePayments</con:sourceStep><con:targetType>ResponseAsXMLPayments</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>invoiceNumber</con:name><con:value/></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="718f06f2-a138-4787-b01f-6f364da01d8d" name="GenerateInvoice"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="06452aa5-a435-452a-abc6-3bdcf91b27d0" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="InvoiceMultipleLines" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description/><con:settings/><con:testStep type="request" name="Generate" id="cb02705e-516b-4a99-b849-3aa442e23f14"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="271fa766-2704-4c27-b211-6aaa3a5f7b8f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<Customer>
					<CustomerTypeCode>C</CustomerTypeCode>
					<ContactTypeCode>C</ContactTypeCode>
					<CustomerNumber>3858135</CustomerNumber>
					<VAT>BE0460708626</VAT>
					<CompanyNumber>0460708626</CompanyNumber>
					<CompanyName>CDM IT SERVICES</CompanyName>
					<FirstName>Christophe</FirstName>
					<LastName>Arrobe</LastName>
					<IBAN>BE05431915671175</IBAN>
					<BIC>KREDBEBB</BIC>
					<GenderCode>M</GenderCode>
					<LanguageCode>N</LanguageCode>
					<Email>christophe.deman@cdm-it.be</Email>
					<CommunicationChannelCode>ZOOMIT</CommunicationChannelCode>
				</Customer>
				<InvoiceAddress>
					<Name>CDM IT SERVICES</Name>
					<CareOf>Mr. Christophe Arrobe</CareOf>
					<CompanyLegalForm>BVBA</CompanyLegalForm>
					<Street>BOLLOSTRAAT</Street>
					<Number>71</Number>
					<Bus>A</Bus>
					<Zip>3140</Zip>
					<City>KEERBERGEN</City>
					<CountryCode>BE</CountryCode>
				</InvoiceAddress>
				<DeliveryAddress>
					<Name>CDM IT SERVICES</Name>
					<CareOf>Mr. Christophe Arrobe</CareOf>
					<CompanyLegalForm>BVBA</CompanyLegalForm>
					<Street>BOLLOSTRAAT</Street>
					<Number>71</Number>
					<Bus>A</Bus>
					<Zip>3140</Zip>
					<City>KEERBERGEN</City>
					<CountryCode>BE</CountryCode>
				</DeliveryAddress>
				<Company>
					<CompanyName>VAB N.V.</CompanyName>
					<VAT>BE0436267594</VAT>
					<CompanyNumber>0436267594</CompanyNumber>
					<TelephoneNumber>03/253 63 45</TelephoneNumber>
					<BusinessCode>KTK</BusinessCode>
					<ContactPerson>Laura Diels</ContactPerson>              
					<ContactEmail>cards@vab.be</ContactEmail>
					<IBAN>BE62410032877161</IBAN>
					<BIC>KREDBEBB</BIC>
					<Website>www.vab.be</Website>
					<Courthouse>RPR Antwerpen</Courthouse>
					<Street>Pastoor Coplaan</Street>
					<Number>100</Number>
					<Zip>2070</Zip>
					<City>Zwijndrecht </City>
					<CountryCode>BE</CountryCode>
				</Company>
				<InvoiceDetails>
					<EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
					<LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
					<CreditNote>false</CreditNote>
					<InvoiceTypeCode>I</InvoiceTypeCode>
					<InvoiceFlowTypeCode>SELL</InvoiceFlowTypeCode>
					<CountryCode>BE</CountryCode>
					<CurrencyTypeCode>EUR</CurrencyTypeCode>
					<TotalNetAmount>1188.38</TotalNetAmount>
					<TotalVATAmount>249.53</TotalVATAmount>
					<TotalAmount>1437.91</TotalAmount>
					<RestAmount>1437.91</RestAmount>
					<PaidAmount>0.0</PaidAmount>
					<SendToCustomer>true</SendToCustomer>
					<SendToArchive>true</SendToArchive>
					<SendToBooking>true</SendToBooking>
					<BatchID/>
					<InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
				</InvoiceDetails>
				<InvoiceLines>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<Description>Kaart Verrichting(en) KBCFLEET</Description>
						<Quantity>1</Quantity>
						<UnitPrice>832.69</UnitPrice>
						<Amount>832.69</Amount>
						<AmountInclVAT>1007.53</AmountInclVAT>
						<BalanceTypeCode>C</BalanceTypeCode>
						<DiscountGroup/>
						<CostCode>150</CostCode>
						<BookingLines>
							<InputInvoiceBookingLine_IS>
								<Amount>832.69</Amount>
								<VATCode>V04</VATCode>
								<VATRate>21</VATRate>
								<VATAmount>174.84</VATAmount>
								<ProductCode>SIXT-I001</ProductCode>
							</InputInvoiceBookingLine_IS>
						</BookingLines>
					</InputInvoiceLine_IS>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<Description>Kaart Verrichting(en) KBCFLEET</Description>
						<Quantity>1</Quantity>
						<UnitPrice>355.69</UnitPrice>
						<Amount>355.69</Amount>
						<AmountInclVAT>430.38</AmountInclVAT>
						<BalanceTypeCode>C</BalanceTypeCode>
						<DiscountGroup/>
						<CostCode>150</CostCode>
						<BookingLines>
							<InputInvoiceBookingLine_IS>
								<Amount>355.69</Amount>
								<VATCode>V04</VATCode>
								<VATRate>21</VATRate>
								<VATAmount>74.69</VATAmount>
								<ProductCode>SIXT-I001</ProductCode>
							</InputInvoiceBookingLine_IS>
						</BookingLines>
					</InputInvoiceLine_IS>
				</InvoiceLines>
				<InvoicePayment>
					<PaymentTypeCode>B</PaymentTypeCode>
					<OGM>002/7349/67843</OGM>
					<SEPARefused>false</SEPARefused>
				</InvoicePayment>
			</Input>
		</GenerateInvoice>
	</soap:Body>
</soap:Envelope>	]]></con:request><con:assertion type="SOAP Response" id="2e5f14f3-cc0d-4111-a25d-3efb031e03aa"/><con:assertion type="XPath Match" id="6a3e4aec-3833-45f5-a1a0-82f0b3050599" name="XPath Match Success"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="c7ad8fa4-e476-43bb-8b64-82f509cc9219" name="XPath Match ResultCode"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="d6c112c5-7340-4d5e-84b9-3c6b31f74fa5"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>invoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="efc8b784-c29d-4138-9f00-cb4622db40aa"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="1b664a7b-7e67-436e-b926-52abd6aee422" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5c3e52a6-f30a-4023-99c6-65c52303dd9b"/><con:assertion type="XPath Match" id="148ca1f0-0660-4313-b862-2f5b0ea7c3d6" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="1b7a5a34-fab2-4837-a54e-e1d646502911"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
  fh.DEFLC01
from sysb.drbatfh fh
where fh.DEFLC01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="18878862-0b67-4ea5-9906-3b47e48530f3"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="d20e32c6-63cd-40cc-ac63-b4d90bf00292"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsAXI()</script></con:config></con:testStep><con:properties><con:property><con:name>totalVatAmout</con:name><con:value>249.53</con:value></con:property><con:property><con:name>totalNetAmount</con:name><con:value>1188.38</con:value></con:property><con:property><con:name>totalAmount</con:name><con:value>1437.91</con:value></con:property></con:properties></con:testCase><con:testCase id="e6fd2acd-386e-47fe-98b8-b3eae7610823" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="InvoiceLine" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description/><con:settings/><con:testStep type="request" name="Generate" id="1545f29e-372f-48e5-adfa-a47792fc20cf"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="271fa766-2704-4c27-b211-6aaa3a5f7b8f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<Customer>
					<CustomerTypeCode>C</CustomerTypeCode>
					<ContactTypeCode>C</ContactTypeCode>
					<CustomerNumber>8418183</CustomerNumber>
					<VAT>LU22602857</VAT>
					<CompanyNumber/>
					<CompanyName>SIXT S.A.R.L</CompanyName>
					<FirstName/>
					<LastName/>
					<IBAN/>
					<BIC/>
					<GenderCode>M</GenderCode>
					<LanguageCode>F</LanguageCode>
					<Email>accountspayable.bnl@sixt.com</Email>
					<CommunicationChannelCode>EMAIL</CommunicationChannelCode>
					<CareOf/>
				</Customer>
				<InvoiceAddress>
					<Name>SIXT S.A.R.L</Name>
					<CareOf/>
					<CompanyLegalForm/>
					<Street>AEROPORT DE LUXEMBOURG</Street>
					<Number/>
					<Bus/>
					<Zip>1110</Zip>
					<City>FINDEL</City>
					<CountryCode>LU</CountryCode>
				</InvoiceAddress>
				<DeliveryAddress>
					<Name>SIXT S.A.R.L</Name>
					<CareOf/>
					<CompanyLegalForm/>
					<Street>AEROPORT DE LUXEMBOURG</Street>
					<Number/>
					<Bus/>
					<Zip>1110</Zip>
					<City>FINDEL</City>
					<CountryCode>LU</CountryCode>
				</DeliveryAddress>
				<Company>
					<CompanyName>VAB N.V.</CompanyName>
					<VAT>BE0436267594</VAT>
					<CompanyNumber>0436267594</CompanyNumber>
					<ContactPerson>Laura Diels</ContactPerson>
					<TelephoneNumber>03/253 65 51</TelephoneNumber>
					<FaxNumber>03/252 69 58</FaxNumber>
					<ContactEmail>factadmin@vab.be</ContactEmail>
					<IBAN>BE62410032877161</IBAN>
					<BIC>KREDBEBB</BIC>
					<Website>www.vab.be</Website>
					<Courthouse>RPR Antwerpen</Courthouse>
					<Street>PASTOOR COPLAAN</Street>
					<Number>100</Number>
					<Bus/>
					<Zip>2070</Zip>
					<City>ZWIJNDRECHT</City>
					<CountryCode>BE</CountryCode>
				</Company>
				<InvoiceDetails>
					<EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
					<SalesCode/>
					<LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
					<CreditNote>false</CreditNote>
					<RefusalType/>
					<InvoiceTypeCode>I</InvoiceTypeCode>
					<InvoiceFlowTypeCode>SELL</InvoiceFlowTypeCode>
					<SupplierCode/>
					<InvoiceNumberSupplier/>
					<ScanInformation/>
					<InternalNumber/>
					<InternalReference/>
					<ArticleGroup/>
					<CountryCode>BE</CountryCode>
					<CurrencyTypeCode>EUR</CurrencyTypeCode>
					<TotalNetAmount>153.5300</TotalNetAmount>
					<TotalVATAmount>9.2118</TotalVATAmount>
					<TotalAmount>162.7418</TotalAmount>
					<RestAmount>162.7418</RestAmount>
					<AdditionalInformation>Gokgoz Cem, RUE DE LA PLANCHETTE33, 57117 MONTOY FLANVILLE, N/Réf.5875480</AdditionalInformation>
					<SendToCustomer>true</SendToCustomer>
					<SendToArchive>true</SendToArchive>
					<SendToBooking>true</SendToBooking>
					<BatchID/>
					<InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
					<SpartaQueueId>87849890</SpartaQueueId>
					<PayableInformation/>
					<OrderInformation/>
					<VATForeignNumber/>
					<FileNamePattern/>
					<deextnr>9420680067</deextnr>
					<AdditionalReferenceNumber/>
					<ExternalReference>9420680067</ExternalReference>
					<PolicyNumber/>
					<FileNumber>5875480</FileNumber>
				</InvoiceDetails>
				<InvoiceLines>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>M</ContractTypeCode>
						<CompletionTypeCode>E</CompletionTypeCode>
						<Description>JR8216 - 9302479804 / Votre réf.9420680067 Frais de dépannage ou remorquage à l&apos;étranger</Description>
						<Quantity>1.0000</Quantity>
						<UnitPrice>153.5300</UnitPrice>
						<Amount>153.5300</Amount>
						<BalanceTypeCode>C</BalanceTypeCode>
						<DiscountGroup/>
						<CostCode>150</CostCode>
						<AdditionalInformation1/>
						<AdditionalInformation2/>
						<AdditionalInformation3/>
						<AdditionalInformation4/>
						<AdditionalInformation5/>
						<BookingLines>
							<InputInvoiceBookingLine_IS>
								<Amount>153.5300</Amount>
								<VATCode>V50</VATCode>
								<VATDescription/>
								<VATRate>6.0000</VATRate>
								<VATAmount>9.2118</VATAmount>
								<AdditionalInformation6>5875480/18417257/23480554/23458140</AdditionalInformation6>
								<ContractTypeCode/>
								<CompletionTypeCode/>
								<BalanceTypeCode/>
								<DiscountGroup/>
								<CostCode/>
								<ProductCode>SIXT-I001</ProductCode>
							</InputInvoiceBookingLine_IS>
						</BookingLines>
					</InputInvoiceLine_IS>
				</InvoiceLines>
				<InvoicePayment>
					<PaymentTypeCode>B</PaymentTypeCode>
					<OGM>002/7349/67843</OGM>
					<SEPARefused>false</SEPARefused>
				</InvoicePayment>
			</Input>
		</GenerateInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="2e5f14f3-cc0d-4111-a25d-3efb031e03aa"/><con:assertion type="XPath Match" id="c7ad8fa4-e476-43bb-8b64-82f509cc9219" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="58f9ca75-87f3-4dcd-879c-5ea8e261d225"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>invoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="58883383-76b3-4fd9-a8c6-d02d3a43b53f"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="1b664a7b-7e67-436e-b926-52abd6aee422" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5c3e52a6-f30a-4023-99c6-65c52303dd9b"/><con:assertion type="XPath Match" id="148ca1f0-0660-4313-b862-2f5b0ea7c3d6" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="3a3d69cc-0f24-48e2-bde5-10809caa255b"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
  fh.DEFLC01
from sysb.drbatfh fh
where fh.DEFLC01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="03872502-2964-4c0b-8c3e-cfa2d31e60ce"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="d3c371eb-aa3c-49c5-a4b3-35ff3f914019"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsAXI()</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="60beb17b-a4b1-4c45-a849-bf4ed962d21a" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Creditnote" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description/><con:settings/><con:testStep type="request" name="Generate" id="e095fd17-9d05-49f9-8b4d-5d58ca48efed"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="271fa766-2704-4c27-b211-6aaa3a5f7b8f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
         <Input>
            <Customer>
               <CustomerTypeCode>C</CustomerTypeCode>
               <ContactTypeCode>C</ContactTypeCode>
               <CustomerNumber>25500356</CustomerNumber>
               <VAT>BE0403448140</VAT>
               <CompanyNumber>0403448140</CompanyNumber>
               <CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
               <FirstName/>
               <LastName/>
               <IBAN/>
               <BIC/>
               <GenderCode>M</GenderCode>
               <LanguageCode>N</LanguageCode>
               <Email/>
               <CommunicationChannelCode>POST</CommunicationChannelCode>
               <CareOf>SERVICE GARANTIE</CareOf>
            </Customer>
            <InvoiceAddress>
               <Name>D'IETEREN GROUP SERVICE</Name>
               <CareOf>SERVICE GARANTIE</CareOf>
               <CompanyLegalForm/>
               <Street>MALIESTRAAT</Street>
               <Number>50</Number>
               <Bus/>
               <Zip>1050</Zip>
               <City>ELSENE</City>
               <CountryCode>BE</CountryCode>
            </InvoiceAddress>
            <DeliveryAddress>
               <Name>D'IETEREN GROUP SERVICE</Name>
               <CareOf>SERVICE GARANTIE</CareOf>
               <CompanyLegalForm/>
               <Street>MALIESTRAAT</Street>
               <Number>50</Number>
               <Bus/>
               <Zip>1050</Zip>
               <City>ELSENE</City>
               <CountryCode>BE</CountryCode>
            </DeliveryAddress>
            <Company>
               <CompanyName>VAB N.V.</CompanyName>
               <VAT>BE0436267594</VAT>
               <CompanyNumber>0436267594</CompanyNumber>
               <ContactPerson>Laura Diels</ContactPerson>
               <TelephoneNumber>7023</TelephoneNumber>
               <FaxNumber>03/252 69 58</FaxNumber>
               <ContactEmail>contact@vab.be</ContactEmail>
               <IBAN>BE62410032877161</IBAN>
               <BIC>KREDBEBB</BIC>
               <Website>www.vab.be</Website>
               <Courthouse>RPR Antwerpen</Courthouse>
               <Street>PASTOOR COPLAAN</Street>
               <Number>100</Number>
               <Bus/>
               <Zip>2070</Zip>
               <City>ZWIJNDRECHT</City>
               <CountryCode>BE</CountryCode>
            </Company>
            <InvoiceDetails>
               <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
               <SalesCode/>
               <LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
               <CreditNote>true</CreditNote>
               <RefusalType/>
               <InvoiceTypeCode>I</InvoiceTypeCode>
               <InvoiceFlowTypeCode>SELL</InvoiceFlowTypeCode>
               <SupplierCode/>
               <InvoiceNumberSupplier/>
               <ScanInformation/>
               <InternalNumber/>
               <InternalReference/>
               <ArticleGroup/>
               <CountryCode>BE</CountryCode>
               <CurrencyTypeCode>EUR</CurrencyTypeCode>
               <TotalNetAmount>5000.0000</TotalNetAmount>
               <TotalVATAmount>1050.0000</TotalVATAmount>
               <TotalAmount>6050.0000</TotalAmount>
               <RestAmount>6050.0000</RestAmount>
               <AdditionalInformation>Opsommer Vincent Opsommer Vincent, Prins-Regentstraat 18, 8930 Menen
Onze Ref.4957919</AdditionalInformation>
               <SendToCustomer>true</SendToCustomer>
               <SendToArchive>true</SendToArchive>
               <SendToBooking>true</SendToBooking>
               <BatchID/>
			<InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
               <SpartaQueueId></SpartaQueueId>
               <PayableInformation/>
               <OrderInformation/>
               <VATForeignNumber>FR0845</VATForeignNumber>
            </InvoiceDetails>
            <InvoiceLines>
               <InputInvoiceLine_IS>
                  <ShowOnInvoice>true</ShowOnInvoice>
                  <ReferenceCode>5532</ReferenceCode>
                  <ContractTypeCode>M</ContractTypeCode>
                  <CompletionTypeCode>E</CompletionTypeCode>
                  <Description>/ Uw Ref.WAUZZZ8U3DR001232
Taxikosten</Description>
                 <Quantity>1</Quantity>
                  <UnitPrice>5000.0000</UnitPrice>
                  <Amount>5000.0000</Amount>
                  <BalanceTypeCode>D</BalanceTypeCode>
                  <DiscountGroup/>
                  <CostCode>553</CostCode>
                  <AdditionalInformation1/>
                  <AdditionalInformation2/>
                  <AdditionalInformation3/>
                  <AdditionalInformation4/>
                  <AdditionalInformation5/>
                  <BookingLines>
                     <InputInvoiceBookingLine_IS>
                        <Amount>5000.0000</Amount>
                        <VATCode>V04</VATCode>
                        <VATDescription/>
                        <VATRate>21.0000</VATRate>
                        <VATAmount>1050.0000</VATAmount>
                        <AdditionalInformation6/>
                     </InputInvoiceBookingLine_IS>
                  </BookingLines>
               </InputInvoiceLine_IS>
            </InvoiceLines>
            <InvoicePayment>
               <PaymentTypeCode>B</PaymentTypeCode>
               <OGM>002/4715/44640</OGM>
               <SEPARefused>false</SEPARefused>
            </InvoicePayment>
         </Input>
      </GenerateInvoice>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="2e5f14f3-cc0d-4111-a25d-3efb031e03aa"/><con:assertion type="XPath Match" id="c7ad8fa4-e476-43bb-8b64-82f509cc9219" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="60b7ccb7-6e8d-4072-ad93-7164812a31f3"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>invoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="9eba651a-8de3-44a2-af0a-aabfa26e3ac6"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="1b664a7b-7e67-436e-b926-52abd6aee422" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5c3e52a6-f30a-4023-99c6-65c52303dd9b"/><con:assertion type="XPath Match" id="148ca1f0-0660-4313-b862-2f5b0ea7c3d6" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="44f38da6-8bbc-4041-9eb4-e209aecca7e5"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
  fh.DEFLC01
from sysb.drbatfh fh
where fh.DEFLC01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="0ffece19-2453-4bd2-8323-5b96dcad4bae"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="083d6d9c-2c85-4497-94ef-cb92e05582e0"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsAXI()</script></con:config></con:testStep><con:properties><con:property><con:name>entityID</con:name><con:value>713</con:value></con:property></con:properties></con:testCase><con:testCase id="52084291-7f12-4293-9c0b-9417b85305a1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ProformaLine" searchProperties="true"><con:settings/><con:testStep type="request" name="Generate" id="2708daff-f990-4611-bd1e-878a375b1119"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="271fa766-2704-4c27-b211-6aaa3a5f7b8f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
      <Audit>
        <User>SPARTA_IS</User>
        <Source>APOLLO</Source>
      </Audit>
      <Input>
        <Customer>
          <CustomerTypeCode>C</CustomerTypeCode>
          <ContactTypeCode>C</ContactTypeCode>
          <CustomerNumber>23913692</CustomerNumber>
          <VAT>BE0403448140</VAT>
          <CompanyNumber>0403448140</CompanyNumber>
          <CompanyName>D&apos;IETEREN GROUP SERVICE</CompanyName>
          <FirstName/>
         <LastName/>
          <IBAN/>
          <BIC/>
          <GenderCode>M</GenderCode>
          <LanguageCode>N</LanguageCode>
          <Email>marc.jans@dieteren.be</Email>
          <CommunicationChannelCode>POST</CommunicationChannelCode>
          <CareOf>SERVICE GARANTIE</CareOf>
        </Customer>
        <InvoiceAddress>
          <Name>D&apos;IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </InvoiceAddress>
        <DeliveryAddress>
          <Name>D&apos;IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </DeliveryAddress>
        <Company>
          <CompanyName>VAB N.V.</CompanyName>
          <VAT>BE0436267594</VAT>
          <CompanyNumber>0436267594</CompanyNumber>
          <ContactPerson>Thomas Smet</ContactPerson>
          <TelephoneNumber>7023</TelephoneNumber>
          <FaxNumber>03/252 69 58</FaxNumber>
          <ContactEmail>contact@vab.be</ContactEmail>
          <IBAN>BE62410032877161</IBAN>
          <BIC>KREDBEBB</BIC>
          <Website>www.vab.be</Website>
          <Courthouse>RPR Antwerpen</Courthouse>
          <Street>PASTOOR COPLAAN</Street>
          <Number>100</Number>
          <Bus/>
          <Zip>2070</Zip>
          <City>ZWIJNDRECHT</City>
          <CountryCode>BE</CountryCode>
        </Company>
        <InvoiceDetails>
          <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
          <SalesCode/>
          <LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
          <CreditNote>false</CreditNote>
          <RefusalType/>
          <InvoiceTypeCode>I</InvoiceTypeCode>
          <InvoiceFlowTypeCode>PROFORMA</InvoiceFlowTypeCode>
          <SupplierCode/>
          <InvoiceNumberSupplier/>
          <ScanInformation/>
          <InternalNumber/>
          <InternalReference/>
          <ArticleGroup/>
          <CountryCode>BE</CountryCode>
          <CurrencyTypeCode>EUR</CurrencyTypeCode>
          <TotalNetAmount>115.0000</TotalNetAmount>
          <TotalVATAmount>24.1500</TotalVATAmount>
          <TotalAmount>139.1500</TotalAmount>
          <RestAmount>139.1500</RestAmount>
          <AdditionalInformation>Eneco Belgium, BATTELSESTEENWEG455 I, 2800 MECHELEN, Onze Ref.5805947</AdditionalInformation>
          <SendToCustomer>true</SendToCustomer>
          <SendToArchive>true</SendToArchive>
          <SendToBooking>true</SendToBooking>
          <BatchID/>
          <InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
          <SpartaQueueId>85368276</SpartaQueueId>
          <PayableInformation/>
          <OrderInformation/>
          <VATForeignNumber/>
          <FileNamePattern/>
          <deextnr>WAUZZZF57KA0617</deextnr>
          <AdditionalReferenceNumber/>
          <UbenchID>12345</UbenchID>
          <FleetOwner>ALDBE</FleetOwner>
        </InvoiceDetails>
        <InvoiceLines>
          <InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description> / Uw Ref.12345 / Chassisnummer: WAUZZZF57KA061750 / Nummerpl. : 1WHV297 / Audi A5 Sportback / Pechdatum: 22-07-2019 / Pechplaats: ELSENE
Pechverhelping</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>C</BalanceTypeCode>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <AdditionalInformation1/>
            <AdditionalInformation2/>
            <AdditionalInformation3/>
            <AdditionalInformation4/>
            <AdditionalInformation5/>
            <BookingLines>
              <InputInvoiceBookingLine_IS>
                <Amount>115.0000</Amount>
                <VATCode>V04</VATCode>
                <VATDescription/>
                <VATRate>21.0000</VATRate>
                <VATAmount>24.1500</VATAmount>
                <AdditionalInformation6>5805947/18284717/23253868/</AdditionalInformation6>
                <ContractTypeCode/>
                <CompletionTypeCode/>
                <BalanceTypeCode/>
                <DiscountGroup/>
                <CostCode/>
                <ProductCode>ALDAU-I001</ProductCode>
              </InputInvoiceBookingLine_IS>
            </BookingLines>
          </InputInvoiceLine_IS>
        </InvoiceLines>
        <InvoicePayment>
          <PaymentTypeCode>B</PaymentTypeCode>
          <OGM>002/7036/05521</OGM>
          <SEPARefused>false</SEPARefused>
        </InvoicePayment>
      </Input>
    </GenerateInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="2e5f14f3-cc0d-4111-a25d-3efb031e03aa"/><con:assertion type="XPath Match" id="c7ad8fa4-e476-43bb-8b64-82f509cc9219" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="76975928-e0ea-4069-8b52-5dbe63b1a8cc" name="XPath Match Succes"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseProformaNumber" id="0b2c6812-5727-43c3-a761-b89325ead232"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ProformaNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>//*:InvoiceNumber
</con:sourcePath><con:targetType>proformaNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="a056bb4c-4505-4dde-aa99-49d0f8a9f0ee" name="ConvertProformaInvoice"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>convertProformaInvoice</con:operation><con:request name="ConvertProformaInvoice" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" id="ddd33a0d-d6f0-4211-a3bb-9ad72ea96689"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
   <soap:Header/>
   <soap:Body>
      <out:convertProformaInvoice>
         <!--Optional:-->
         <out:Audit>
            <!--Optional:-->
            <out:User>SPARTA_IS</out:User>
            <!--Optional:-->
            <out:Source>SPARTA</out:Source>
         </out:Audit>
         <!--Optional:-->
         <out:Input>
            <!--Optional:-->
            <out:InvoiceNumber>${#Project#proformaNumber}</out:InvoiceNumber>
            <!--Optional:-->
            <out:InvoiceCallbackEndpoint/>
         </out:Input>
      </out:convertProformaInvoice>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="61f70289-adc7-41dc-8cd8-29d8e4d3f3fb" name="SOAP Response"/><con:assertion type="XPath Match" id="40cfaa3d-453b-4927-b512-f82363769e1d" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/convertProformaInvoiceRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="9db66a7d-ad2a-486f-8e1b-25f71f6f9555"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>InvoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>ConvertProformaInvoice</con:sourceStep><con:sourcePath>//*:invoiceNumber
</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath>
</con:targetPath><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="ebbdf1e9-8c29-43be-a004-71344d4759ca" name="UpdatePaymentAmount"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>UpdatePaymentAmount</con:operation><con:request name="UpdatePaymentAmount" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" id="407438ab-c4f7-445c-8c92-bf9fe9c0b6e5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
   <soap:Header/>
   <soap:Body>
      <out:UpdatePaymentAmount>
         <!--Optional:-->
         <out:Audit>
            <!--Optional:-->
            <out:User>SPARTA_IS</out:User>
            <!--Optional:-->
            <out:Source>SPARTA</out:Source>
         </out:Audit>
         <!--Optional:-->
         <out:Input>
            <!--Optional:-->
            <out:InvoiceNumber>${#Project#invoiceNumber}</out:InvoiceNumber>
            <out:TotalNetAmount>110</out:TotalNetAmount>
            <out:TotalVatAmount>120.14</out:TotalVatAmount>
            <out:TotalAmount>12.15</out:TotalAmount>
            <!--Optional:-->
            <out:Description>test</out:Description>
            <!--Optional:-->
            <out:MessageIdentification>?</out:MessageIdentification>
            <!--Optional:-->
            <out:LotIdentification>?</out:LotIdentification>
            <!--Optional:-->
            <out:PaymentMethod/>
            <out:PayDate>2020-06-10</out:PayDate>
         </out:Input>
      </out:UpdatePaymentAmount>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="14d9cf77-2a80-4fe0-aa66-be8f798592b3" name="SOAP Response"/><con:assertion type="XPath Match" id="0222e244-c2fa-40a9-ae22-0cf7c87961d3" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="4851c055-0fae-4694-b62f-8c501dea31ba" name="Contains"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/UpdatePaymentAmountRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="1d8bdc93-5160-4aa6-ab31-e054fce5c28b" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreditnoteMultipleLines" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description/><con:settings/><con:testStep type="request" name="Generate" id="cf0af356-21f0-405e-8c62-e6b9317e8c7c"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="271fa766-2704-4c27-b211-6aaa3a5f7b8f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
         <Input>
            <Customer>
               <CustomerTypeCode>C</CustomerTypeCode>
               <ContactTypeCode>C</ContactTypeCode>
               <CustomerNumber>25500356</CustomerNumber>
               <VAT>BE0403448140</VAT>
               <CompanyNumber>0403448140</CompanyNumber>
               <CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
               <FirstName/>
               <LastName/>
               <IBAN/>
               <BIC/>
               <GenderCode>M</GenderCode>
               <LanguageCode>N</LanguageCode>
               <Email/>
               <CommunicationChannelCode>POST</CommunicationChannelCode>
               <CareOf>SERVICE GARANTIE</CareOf>
            </Customer>
            <InvoiceAddress>
               <Name>D'IETEREN GROUP SERVICE</Name>
               <CareOf>SERVICE GARANTIE</CareOf>
               <CompanyLegalForm/>
               <Street>MALIESTRAAT</Street>
               <Number>50</Number>
               <Bus/>
               <Zip>1050</Zip>
               <City>ELSENE</City>
               <CountryCode>BE</CountryCode>
            </InvoiceAddress>
            <DeliveryAddress>
               <Name>D'IETEREN GROUP SERVICE</Name>
               <CareOf>SERVICE GARANTIE</CareOf>
               <CompanyLegalForm/>
               <Street>MALIESTRAAT</Street>
               <Number>50</Number>
               <Bus/>
               <Zip>1050</Zip>
               <City>ELSENE</City>
               <CountryCode>BE</CountryCode>
            </DeliveryAddress>
            <Company>
               <CompanyName>VAB N.V.</CompanyName>
               <VAT>BE0436267594</VAT>
               <CompanyNumber>0436267594</CompanyNumber>
               <ContactPerson>Laura Diels</ContactPerson>
               <TelephoneNumber>7023</TelephoneNumber>
               <FaxNumber>03/252 69 58</FaxNumber>
               <ContactEmail>contact@vab.be</ContactEmail>
               <IBAN>BE62410032877161</IBAN>
               <BIC>KREDBEBB</BIC>
               <Website>www.vab.be</Website>
               <Courthouse>RPR Antwerpen</Courthouse>
               <Street>PASTOOR COPLAAN</Street>
               <Number>100</Number>
               <Bus/>
               <Zip>2070</Zip>
               <City>ZWIJNDRECHT</City>
               <CountryCode>BE</CountryCode>
            </Company>
            <InvoiceDetails>
               <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
               <SalesCode/>
               <LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
               <CreditNote>true</CreditNote>
               <RefusalType/>
               <InvoiceTypeCode>I</InvoiceTypeCode>
               <InvoiceFlowTypeCode>SELL</InvoiceFlowTypeCode>
               <SupplierCode/>
               <InvoiceNumberSupplier/>
               <ScanInformation/>
               <InternalNumber/>
               <InternalReference/>
               <ArticleGroup/>
               <CountryCode>BE</CountryCode>
               <CurrencyTypeCode>EUR</CurrencyTypeCode>
               <TotalNetAmount>5284.0000</TotalNetAmount>
               <TotalVATAmount>258.0000</TotalVATAmount>
               <TotalAmount>5542.0000</TotalAmount>
               <RestAmount>5542.0000</RestAmount>
               <AdditionalInformation>Opsommer Vincent Opsommer Vincent, Prins-Regentstraat 18, 8930 Menen
Onze Ref.4957919</AdditionalInformation>
               <SendToCustomer>true</SendToCustomer>
               <SendToArchive>true</SendToArchive>
               <SendToBooking>true</SendToBooking>
               <BatchID/>
			<InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
               <SpartaQueueId></SpartaQueueId>
               <PayableInformation/>
               <OrderInformation/>
               <VATForeignNumber>FR0845</VATForeignNumber>
            </InvoiceDetails>
            <InvoiceLines>
               <InputInvoiceLine_IS>
                  <ShowOnInvoice>true</ShowOnInvoice>
                  <ReferenceCode>5532</ReferenceCode>
                  <ContractTypeCode>M</ContractTypeCode>
                  <CompletionTypeCode>E</CompletionTypeCode>
                  <Description>/ Uw Ref.WAUZZZ8U3DR001232
Taxikosten</Description>
                 <Quantity>1</Quantity>
                  <UnitPrice>5000.0000</UnitPrice>
                  <Amount>5000.0000</Amount>
                  <BalanceTypeCode>D</BalanceTypeCode>
                  <DiscountGroup/>
                  <CostCode>553</CostCode>
                  <BookingLines>
                     <InputInvoiceBookingLine_IS>
                        <Amount>5000.0000</Amount>
                        <VATCode>V50</VATCode>
                        <VATDescription/>
                        <VATRate>6.0000</VATRate>
                        <VATAmount>300.0000</VATAmount>
                        <AdditionalInformation6/>
                     </InputInvoiceBookingLine_IS>
                  </BookingLines>
               </InputInvoiceLine_IS>               
               <InputInvoiceLine_IS>
                  <ShowOnInvoice>true</ShowOnInvoice>
                  <ReferenceCode>5532</ReferenceCode>
                  <ContractTypeCode>M</ContractTypeCode>
                  <CompletionTypeCode>E</CompletionTypeCode>
                  <Description>/ Uw Ref.WAUZZZ8U3DR001232
Taxikosten</Description>
                 <Quantity>1</Quantity>
                  <UnitPrice>200.0000</UnitPrice>
                  <Amount>200.0000</Amount>
                  <BalanceTypeCode>D</BalanceTypeCode>
                  <DiscountGroup/>
                  <CostCode>553</CostCode>
                  <BookingLines>
                     <InputInvoiceBookingLine_IS>
                        <Amount>200.0000</Amount>
                        <VATCode>V04</VATCode>
                        <VATDescription/>
                        <VATRate>21.0000</VATRate>
                        <VATAmount>42</VATAmount>
                        <AdditionalInformation6/>
                     </InputInvoiceBookingLine_IS>
                  </BookingLines>
               </InputInvoiceLine_IS>
            </InvoiceLines>
            <InvoicePayment>
               <PaymentTypeCode>B</PaymentTypeCode>
               <OGM>002/4715/44640</OGM>
               <SEPARefused>false</SEPARefused>
            </InvoicePayment>
         </Input>
      </GenerateInvoice>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="2e5f14f3-cc0d-4111-a25d-3efb031e03aa"/><con:assertion type="XPath Match" id="c7ad8fa4-e476-43bb-8b64-82f509cc9219" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="c018f962-147f-4bd6-8549-463d69548d30"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>invoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="4be62649-e399-4aa3-8b55-ceb783aacf6f"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="1b664a7b-7e67-436e-b926-52abd6aee422" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>	
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5c3e52a6-f30a-4023-99c6-65c52303dd9b"/><con:assertion type="XPath Match" id="148ca1f0-0660-4313-b862-2f5b0ea7c3d6" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="42cab380-5c39-4334-add5-8b91fc5c38ab"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
  fh.DEFLC01
from sysb.drbatfh fh
where fh.DEFLC01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="a7961f00-9400-46b5-a0cf-eddb1355d219"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="530844ad-b08c-48f4-9b57-71d26c0f5cf2"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsAXI()</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="39d15ad4-20c8-4c54-ba7a-4aa7387e32d3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Commissiefactuur - Debit" searchProperties="true" disabled="true"><con:settings/><con:testStep type="request" name="Generate" id="40adc835-12b0-4c71-ad0a-424f7d62a06a"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="08cd3312-06c1-4439-adda-d9f61f52b7c2" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>APOLLO</Source>
			</Audit>
			<Input>
				<Customer>
					<CustomerTypeCode>C</CustomerTypeCode>
					<ContactTypeCode>C</ContactTypeCode>
					<CustomerNumber>23913692</CustomerNumber>
					<SalesCode>I_SELL_1</SalesCode>
					<VAT>BE0403448140</VAT>
					<CompanyNumber>0403448140</CompanyNumber>
					<CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
					<FirstName/>
					<LastName/>
					<IBAN/>
					<BIC/>
					<GenderCode>M</GenderCode>
					<LanguageCode>N</LanguageCode>
					<Email>marc.jans@dieteren.be</Email>
					<CommunicationChannelCode>POST</CommunicationChannelCode>
					<CareOf>SERVICE GARANTIE</CareOf>
				</Customer>
				<InvoiceAddress>
					<Name>D'IETEREN GROUP SERVICE</Name>
					<CareOf>SERVICE GARANTIE</CareOf>
					<CompanyLegalForm>SA</CompanyLegalForm>
					<Street>MALIESTRAAT</Street>
					<Number>50</Number>
					<Bus/>
					<Zip>1050</Zip>
					<City>ELSENE</City>
					<CountryCode>BE</CountryCode>
				</InvoiceAddress>
				<DeliveryAddress>
					<Name>D'IETEREN GROUP SERVICE</Name>
					<CareOf>SERVICE GARANTIE</CareOf>
					<CompanyLegalForm>SA</CompanyLegalForm>
					<Street>MALIESTRAAT</Street>
					<Number>50</Number>
					<Bus/>
					<Zip>1050</Zip>
					<City>ELSENE</City>
					<CountryCode>BE</CountryCode>
				</DeliveryAddress>
				<Company>
					<CompanyName>VAB N.V.</CompanyName>
					<VAT>BE0436267594</VAT>
					<CompanyNumber>0436267594</CompanyNumber>
					<ContactPerson>Thomas Smet</ContactPerson>
					<TelephoneNumber>7023</TelephoneNumber>
					<FaxNumber>03/252 69 58</FaxNumber>
					<ContactEmail>contact@vab.be</ContactEmail>
					<IBAN>BE62410032877161</IBAN>
					<BIC>KREDBEBB</BIC>
					<Website>www.vab.be</Website>
					<Courthouse>RPR Antwerpen</Courthouse>
					<Street>PASTOOR COPLAAN</Street>
					<Number>100</Number>
					<Bus/>
					<Zip>2070</Zip>
					<City>ZWIJNDRECHT</City>
					<CountryCode>BE</CountryCode>
				</Company>
				<InvoiceDetails>
					<EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
					<LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
					<CreditNote>false</CreditNote>
					<RefusalType/>
					<InvoiceTypeCode>I</InvoiceTypeCode>
					<InvoiceFlowTypeCode>SELFBILLCO</InvoiceFlowTypeCode>
					<SupplierCode/>
					<InvoiceNumberSupplier/>
					<ScanInformation/>
					<InternalNumber/>
					<InternalReference/>
					<ArticleGroup/>
					<CountryCode>BE</CountryCode>
					<CurrencyTypeCode>EUR</CurrencyTypeCode>
					<TotalNetAmount>15.0000</TotalNetAmount>
					<TotalVATAmount>0</TotalVATAmount>
					<TotalAmount>15.0000</TotalAmount>
					<RestAmount>15.0000</RestAmount>
					<PaidAmount>0</PaidAmount>
					<AdditionalInformation>Eneco Belgium, BATTELSESTEENWEG455 I, 2800 MECHELEN, Onze Ref.5805947</AdditionalInformation>
					<SendToCustomer>false</SendToCustomer>
					<SendToArchive>true</SendToArchive>
					<SendToBooking>true</SendToBooking>
					<BatchID/>
					<InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
					<SpartaQueueId>85368276</SpartaQueueId>
					<PayableInformation/>
					<OrderInformation/>
					<VATForeignNumber/>
					<FileNamePattern/>
					<deextnr>WAUZZZF57KA0617</deextnr>
					<AdditionalReferenceNumber/>
					<UbenchID>12345</UbenchID>
					<FleetOwner>ALDBE</FleetOwner>
				</InvoiceDetails>
				<InvoiceLines>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<Description>REIS-002</Description>
						<Quantity>1.0000</Quantity>
						<UnitPrice>115.0000</UnitPrice>
						<CompanyNumber>TSM1234</CompanyNumber>
						<Amount>115.0000</Amount>
						<AmountincVAT>115.0000</AmountincVAT>
						<BalanceTypeCode>C</BalanceTypeCode>
						<InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
						<DiscountGroup/>
						<CostCode>P</CostCode>
						<OBNumber>OBOBOBOBOB</OBNumber>
						<CommissionAmount>15</CommissionAmount>
						<CommissionPct>20</CommissionPct>
						<AdditionalInformation1>MAK20050515450509</AdditionalInformation1>
						<AdditionalInformation2>65365978</AdditionalInformation2>
						<AdditionalInformation3>2020-07-23</AdditionalInformation3>
						<AdditionalInformation4>WSL612</AdditionalInformation4>
						<AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>
						<BTWcode>D43</BTWcode>
					</InputInvoiceLine_IS>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<CompanyNumber>TSM12345</CompanyNumber>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<Description>REIS-002</Description>
						<Quantity>1.0000</Quantity>
						<UnitPrice>115.0000</UnitPrice>
						<Amount>115.0000</Amount>
						<BalanceTypeCode>C</BalanceTypeCode>
						<InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
						<DiscountGroup/>
						<CostCode>P</CostCode>
						<OBNumber>OBOBOBOBOB</OBNumber>
						<CommissionAmount>15</CommissionAmount>
						<CommissionPct>20</CommissionPct>
						<AdditionalInformation1>MAK20050515450509</AdditionalInformation1>
						<AdditionalInformation2>65365978</AdditionalInformation2>
						<AdditionalInformation3>2020-07-23</AdditionalInformation3>
						<AdditionalInformation4>WSL612</AdditionalInformation4>
						<AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>
						<BTWcode>D43</BTWcode>
					</InputInvoiceLine_IS>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<CompanyNumber>TSM123456</CompanyNumber>
						<Description>REIS-002</Description>
						<Quantity>1.0000</Quantity>
						<UnitPrice>115.0000</UnitPrice>
						<Amount>115.0000</Amount>
						<BalanceTypeCode>D</BalanceTypeCode>
						<InvoiceLineDetailTypeId>A</InvoiceLineDetailTypeId>
						<DiscountGroup/>
						<CostCode>P</CostCode>
						<OANumber>OAOAOAOAOAO</OANumber>
						<CommissionAmount>15</CommissionAmount>
						<CommissionPct>20</CommissionPct>
						<AdditionalInformation1>MAK20050515450509</AdditionalInformation1>
						<AdditionalInformation2>65365978</AdditionalInformation2>
						<AdditionalInformation3>2020-07-23</AdditionalInformation3>
						<AdditionalInformation4>WSL612</AdditionalInformation4>
						<AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>
						<BTWcode>D43</BTWcode>
					</InputInvoiceLine_IS>
				</InvoiceLines>
				<InvoicePayment>
					<PaymentTypeCode>B</PaymentTypeCode>
					<SEPARefused>false</SEPARefused>
					<OGM>002/7036/05521</OGM>
				</InvoicePayment>
			</Input>
		</GenerateInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="e930313e-0a5d-4712-a0ce-4399a9bde36a"/><con:assertion type="Simple Contains" id="57caa76c-264b-47f9-8c13-91dc664ecaad" name="Contains"><con:configuration><token>SB</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="a847caf0-0529-4d06-8b80-7c0bf97100cc"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" ignoreEmpty="true" entitize="false" transferChildNodes="false"><con:name>InvoiceNumberTestCase</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="d9b184e7-7342-4f84-ad21-fd346a40cfe5"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="d3a648fa-2447-49a5-be2a-ff74bc1ceae3" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="18f18990-1453-4db2-bc26-4e12757ac240"/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="1eb18b43-a019-47bb-b107-6f836335e7a4"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select fh.DEFLC01
from sysb.drbatfh fh
where fh.deflc01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="bb3d84fc-33dd-4f57-84ea-082006d51d98"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="9a1d9294-1fa5-4429-b522-5ac65e6a6c81"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsSelfBillsAXI()</script></con:config></con:testStep><con:testStep type="delay" name="Delay" id="38392b0e-5f2a-4e52-9b7f-71f7b0ecf6ae"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:properties><con:property><con:name>entityID</con:name><con:value>256</con:value></con:property><con:property><con:name>departureAirportId</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceNumber</con:name><con:value>SB201240030</con:value></con:property></con:properties></con:testCase><con:testCase id="c21c91da-247b-4ad2-9e36-4aa277178e0a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Commissiefactuur - Credit" searchProperties="true" disabled="true"><con:settings/><con:testStep type="request" name="Generate" id="5defadd0-7a7c-4358-8f02-449ef65c6f29"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="08cd3312-06c1-4439-adda-d9f61f52b7c2" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		    <GenerateInvoice xmlns="http://www.outsystems.com">
      <Audit>
        <User>SPARTA_IS</User>
        <Source>APOLLO</Source>
      </Audit>
      <Input>
        <Customer>
          <CustomerTypeCode>C</CustomerTypeCode>
          <ContactTypeCode>C</ContactTypeCode>
          <CustomerNumber>23913692</CustomerNumber>
          <SalesCode>I_SELL_1</SalesCode>
          <VAT>BE0403448140</VAT>
          <CompanyNumber>0403448140</CompanyNumber>
          <CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
          <FirstName/>
          <LastName/>
          <IBAN/>
          <BIC/>
          <GenderCode>M</GenderCode>
          <LanguageCode>N</LanguageCode>
          <Email>marc.jans@dieteren.be</Email>
          <CommunicationChannelCode>POST</CommunicationChannelCode>
          <CareOf>SERVICE GARANTIE</CareOf>
        </Customer>
        <InvoiceAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </InvoiceAddress>
        <DeliveryAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </DeliveryAddress>
        <Company>
          <CompanyName>VAB N.V.</CompanyName>
          <VAT>BE0436267594</VAT>
          <CompanyNumber>0436267594</CompanyNumber>
          <ContactPerson>Thomas Smet</ContactPerson>
          <TelephoneNumber>7023</TelephoneNumber>
          <FaxNumber>03/252 69 58</FaxNumber>
          <ContactEmail>contact@vab.be</ContactEmail>
          <IBAN>BE62410032877161</IBAN>
          <BIC>KREDBEBB</BIC>
          <Website>www.vab.be</Website>
          <Courthouse>RPR Antwerpen</Courthouse>
          <Street>PASTOOR COPLAAN</Street>
          <Number>100</Number>
          <Bus/>
          <Zip>2070</Zip>
          <City>ZWIJNDRECHT</City>
          <CountryCode>BE</CountryCode>
        </Company>
        <InvoiceDetails>
          <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
          <LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
          <CreditNote>true</CreditNote>
          <RefusalType/>
          <InvoiceTypeCode>I</InvoiceTypeCode>
          <InvoiceFlowTypeCode>SELFBILLCO</InvoiceFlowTypeCode>
          <SupplierCode/>
          <InvoiceNumberSupplier/>
          <ScanInformation/>
          <InternalNumber/>
          <InternalReference/>
          <ArticleGroup/>
          <CountryCode>BE</CountryCode>
          <CurrencyTypeCode>EUR</CurrencyTypeCode>
          <TotalNetAmount>15.0000</TotalNetAmount>
          <TotalVATAmount>0</TotalVATAmount>
          <TotalAmount>15.0000</TotalAmount>
          <RestAmount>15.0000</RestAmount>
          <PaidAmount>0</PaidAmount>
          <AdditionalInformation>Eneco Belgium, BATTELSESTEENWEG455 I, 2800 MECHELEN, Onze Ref.5805947</AdditionalInformation>
          <SendToCustomer>false</SendToCustomer>
          <SendToArchive>true</SendToArchive>
          <SendToBooking>true</SendToBooking>
          <BatchID/>
          <InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
          <SpartaQueueId>85368276</SpartaQueueId>
          <PayableInformation/>
          <OrderInformation/>
          <VATForeignNumber/>
          <FileNamePattern/>
          <deextnr>WAUZZZF57KA0617</deextnr>
          <AdditionalReferenceNumber/>
          <UbenchID>12345</UbenchID>
          <FleetOwner>ALDBE</FleetOwner>
        </InvoiceDetails>
        <InvoiceLines>
          <InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <CompanyNumber>TSM1234</CompanyNumber>
            <Amount>115.0000</Amount>
            <AmountincVAT>115.0000</AmountincVAT>
            <BalanceTypeCode>D</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>  
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>   
            <BTWcode>D43</BTWcode>        
          </InputInvoiceLine_IS>
 		<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <CompanyNumber>TSM12345</CompanyNumber>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>D</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>          
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
             <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>
      	<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <CompanyNumber>TSM123456</CompanyNumber>
             <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>C</BalanceTypeCode>
            <InvoiceLineDetailTypeId>A</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>   
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>         
        </InvoiceLines>       
        <InvoicePayment>
          <PaymentTypeCode>B</PaymentTypeCode>    
          <SEPARefused>false</SEPARefused>
        </InvoicePayment>
      </Input>
    </GenerateInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="e930313e-0a5d-4712-a0ce-4399a9bde36a"/><con:assertion type="Simple Contains" id="57caa76c-264b-47f9-8c13-91dc664ecaad" name="Contains"><con:configuration><token>SB</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="5c6795e6-4e17-49bd-9b9f-568cfaa729b9"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" ignoreEmpty="false" entitize="false" transferChildNodes="false"><con:name>InvoiceNumberTestCase</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="02b58ae7-a97f-43c0-9111-c06f7b6c3f0b"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="d3a648fa-2447-49a5-be2a-ff74bc1ceae3" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="18f18990-1453-4db2-bc26-4e12757ac240"/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="bf308ea5-20ca-48c6-8978-86ef39d90c76"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select fh.DEFLC01
from sysb.drbatfh fh
where fh.deflc01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="3778f82b-f89b-4d45-ab1d-ab829e42c080"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="907142c5-d10b-418e-ba04-11a9510a738f"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsSelfBillsAXI()</script></con:config></con:testStep><con:properties><con:property><con:name>entityID</con:name><con:value>256</con:value></con:property><con:property><con:name>departureAirportId</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceNumber</con:name><con:value>SB201240030</con:value></con:property></con:properties></con:testCase><con:testCase id="4595d5b4-0c74-4a6e-8067-ed8a3c6b277b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Productiestaat - NOT PAID (OA) - Debit" searchProperties="true" disabled="true"><con:settings/><con:testStep type="request" name="Generate" id="45caf288-64ce-472b-b241-d45663ea94a5"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="f4f6348e-5207-4c9a-ae67-f0056b47109c" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
  <GenerateInvoice xmlns="http://www.outsystems.com">
      <Audit>
        <User>SPARTA_IS</User>
        <Source>APOLLO</Source>
      </Audit>
      <Input>
        <Customer>
          <CustomerTypeCode>C</CustomerTypeCode>
          <ContactTypeCode>C</ContactTypeCode>
          <CustomerNumber>23913692</CustomerNumber>
          <SalesCode>I_SELL_1</SalesCode>
          <VAT>BE0403448140</VAT>
          <CompanyNumber>0403448140</CompanyNumber>
          <CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
          <FirstName/>
          <LastName/>
          <IBAN/>
          <BIC/>
          <GenderCode>M</GenderCode>
          <LanguageCode>N</LanguageCode>
          <Email>marc.jans@dieteren.be</Email>
          <CommunicationChannelCode>POST</CommunicationChannelCode>
          <CareOf>SERVICE GARANTIE</CareOf>
        </Customer>
        <InvoiceAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </InvoiceAddress>
        <DeliveryAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </DeliveryAddress>
        <Company>
          <CompanyName>VAB N.V.</CompanyName>
          <VAT>BE0436267594</VAT>
          <CompanyNumber>0436267594</CompanyNumber>
          <ContactPerson>Thomas Smet</ContactPerson>
          <TelephoneNumber>7023</TelephoneNumber>
          <FaxNumber>03/252 69 58</FaxNumber>
          <ContactEmail>contact@vab.be</ContactEmail>
          <IBAN>BE62410032877161</IBAN>
          <BIC>KREDBEBB</BIC>
          <Website>www.vab.be</Website>
          <Courthouse>RPR Antwerpen</Courthouse>
          <Street>PASTOOR COPLAAN</Street>
          <Number>100</Number>
          <Bus/>
          <Zip>2070</Zip>
          <City>ZWIJNDRECHT</City>
          <CountryCode>BE</CountryCode>
        </Company>
        <InvoiceDetails>
          <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
          <LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
          <CreditNote>false</CreditNote>
          <RefusalType/>
          <InvoiceTypeCode>I</InvoiceTypeCode>
          <InvoiceFlowTypeCode>PRODSTAAT</InvoiceFlowTypeCode>
          <SupplierCode/>
          <InvoiceNumberSupplier/>
          <ScanInformation/>
          <InternalNumber/>
          <InternalReference/>
          <ArticleGroup/>
          <CountryCode>BE</CountryCode>
          <CurrencyTypeCode>EUR</CurrencyTypeCode>
          <TotalNetAmount>115.0000</TotalNetAmount>
          <TotalVATAmount>0</TotalVATAmount>
          <TotalAmount>115.0000</TotalAmount>
          <RestAmount>115.0000</RestAmount>
          <PaidAmount>0</PaidAmount>
          <AdditionalInformation>Eneco Belgium, BATTELSESTEENWEG455 I, 2800 MECHELEN, Onze Ref.5805947</AdditionalInformation>
          <SendToCustomer>false</SendToCustomer>
          <SendToArchive>true</SendToArchive>
          <SendToBooking>true</SendToBooking>
          <BatchID/>
          <InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
          <SpartaQueueId>85368276</SpartaQueueId>
          <PayableInformation/>
          <OrderInformation/>
          <VATForeignNumber/>
          <FileNamePattern/>
          <deextnr>WAUZZZF57KA0617</deextnr>
          <AdditionalReferenceNumber/>
          <UbenchID>12345</UbenchID>
          <FleetOwner>ALDBE</FleetOwner>
        </InvoiceDetails>
        <InvoiceLines>
          <InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <CompanyNumber>TSM1234</CompanyNumber>
            <Amount>115.0000</Amount>
            <AmountincVAT>115.0000</AmountincVAT>
            <BalanceTypeCode>C</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>   
            <BTWcode>D43</BTWcode>        
          </InputInvoiceLine_IS>
 		<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <CompanyNumber>TSM12345</CompanyNumber>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>C</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
             <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>
      	<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <CompanyNumber>TSM123456</CompanyNumber>
             <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>D</BalanceTypeCode>
            <InvoiceLineDetailTypeId>A</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>         
        </InvoiceLines>       
        <InvoicePayment>
          <PaymentTypeCode>B</PaymentTypeCode>    
          <SEPARefused>false</SEPARefused>
        </InvoicePayment>
      </Input>
    </GenerateInvoice>
	</soap:Body>
</soap:Envelope>	]]></con:request><con:assertion type="SOAP Response" id="54dd89c8-3873-4d19-bb0c-ecf7f09a6bf4"/><con:assertion type="Simple Contains" id="77423b2b-6cfd-453f-ad3a-34b7430ff966" name="Contains"><con:configuration><token>OA</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="ec937722-355b-46a0-85f0-d79be4ea9e8a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>InvoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="509262f8-d016-438a-b652-2051b17c41c2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="1cf293c7-7e2b-4ba7-9978-14c6adfba6f4" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="889ae98e-4a12-4bac-a0b8-5dc193e4e4d9"/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="7943f304-039f-4e1c-9400-a787b207c5de"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select *
from sysb.drbatml 
where deflc01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="b5b725f2-c583-4099-84a1-51b7bf7740c1"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoicePayments"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="020f0c2b-71aa-485b-ab30-88abcdcbca60"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsProductionStateAXI()</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="1019ec0e-657b-4a3a-bc22-1e0ee7c662d5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Productiestaat - PAID (OB) - Debit" searchProperties="true" disabled="true"><con:settings/><con:testStep type="request" name="Generate" id="5fdc9d12-72a8-4fb7-9149-3e9976f23e9c"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="0db41366-dbed-482e-92d0-67537400b17f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
  <GenerateInvoice xmlns="http://www.outsystems.com">
      <Audit>
        <User>SPARTA_IS</User>
        <Source>APOLLO</Source>
      </Audit>
      <Input>
        <Customer>
          <CustomerTypeCode>C</CustomerTypeCode>
          <ContactTypeCode>C</ContactTypeCode>
          <CustomerNumber>23913692</CustomerNumber>
          <SalesCode>I_SELL_1</SalesCode>
          <VAT>BE0403448140</VAT>
          <CompanyNumber>0403448140</CompanyNumber>
          <CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
          <FirstName/>
          <LastName/>
          <IBAN/>
          <BIC/>
          <GenderCode>M</GenderCode>
          <LanguageCode>N</LanguageCode>
          <Email>marc.jans@dieteren.be</Email>
          <CommunicationChannelCode>POST</CommunicationChannelCode>
          <CareOf>SERVICE GARANTIE</CareOf>
        </Customer>
        <InvoiceAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </InvoiceAddress>
        <DeliveryAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </DeliveryAddress>
        <Company>
          <CompanyName>VAB N.V.</CompanyName>
          <VAT>BE0436267594</VAT>
          <CompanyNumber>0436267594</CompanyNumber>
          <ContactPerson>Thomas Smet</ContactPerson>
          <TelephoneNumber>7023</TelephoneNumber>
          <FaxNumber>03/252 69 58</FaxNumber>
          <ContactEmail>contact@vab.be</ContactEmail>
          <IBAN>BE62410032877161</IBAN>
          <BIC>KREDBEBB</BIC>
          <Website>www.vab.be</Website>
          <Courthouse>RPR Antwerpen</Courthouse>
          <Street>PASTOOR COPLAAN</Street>
          <Number>100</Number>
          <Bus/>
          <Zip>2070</Zip>
          <City>ZWIJNDRECHT</City>
          <CountryCode>BE</CountryCode>
        </Company>
        <InvoiceDetails>
          <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
          <LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
          <CreditNote>false</CreditNote>
          <RefusalType/>
          <InvoiceTypeCode>I</InvoiceTypeCode>
          <InvoiceFlowTypeCode>PRODSTAAT</InvoiceFlowTypeCode>
          <SupplierCode/>
          <InvoiceNumberSupplier/>
          <ScanInformation/>
          <InternalNumber/>
          <InternalReference/>
          <ArticleGroup/>
          <CountryCode>BE</CountryCode>
          <CurrencyTypeCode>EUR</CurrencyTypeCode>
          <TotalNetAmount>115.0000</TotalNetAmount>
          <TotalVATAmount>0</TotalVATAmount>
          <TotalAmount>115.0000</TotalAmount>
          <RestAmount>0.0000</RestAmount>
          <PaidAmount>115.0000</PaidAmount>
          <AdditionalInformation>Eneco Belgium, BATTELSESTEENWEG455 I, 2800 MECHELEN, Onze Ref.5805947</AdditionalInformation>
          <SendToCustomer>false</SendToCustomer>
          <SendToArchive>true</SendToArchive>
          <SendToBooking>true</SendToBooking>
          <BatchID/>
          <InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
          <SpartaQueueId>85368276</SpartaQueueId>
          <PayableInformation/>
          <OrderInformation/>
          <VATForeignNumber/>
          <FileNamePattern/>
          <deextnr>WAUZZZF57KA0617</deextnr>
          <AdditionalReferenceNumber/>
          <UbenchID>12345</UbenchID>
          <FleetOwner>ALDBE</FleetOwner>
        </InvoiceDetails>
        <InvoiceLines>
          <InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <CompanyNumber>TSM1234</CompanyNumber>
            <Amount>115.0000</Amount>
            <AmountincVAT>115.0000</AmountincVAT>
            <BalanceTypeCode>C</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>   
            <BTWcode>D43</BTWcode>        
          </InputInvoiceLine_IS>
 		<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <CompanyNumber>TSM12345</CompanyNumber>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>C</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
             <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>
      	<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <CompanyNumber>TSM123456</CompanyNumber>
             <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>D</BalanceTypeCode>
            <InvoiceLineDetailTypeId>A</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>         
        </InvoiceLines>       
        <InvoicePayment>
          <PaymentTypeCode>B</PaymentTypeCode>    
          <SEPARefused>false</SEPARefused>
        </InvoicePayment>
      </Input>
    </GenerateInvoice>
	</soap:Body>
</soap:Envelope>	]]></con:request><con:assertion type="SOAP Response" id="c61a5d44-9b34-4d13-ab67-d5ccaa0c463c"/><con:assertion type="Simple Contains" id="24163730-3f74-44ff-a2fe-4b9d4e82a5e2" name="Contains"><con:configuration><token>OB</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="ad4af2ab-2b22-4964-bfe6-6afeaaef3c34"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>InvoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="67866061-a115-452e-8cb4-0a74335d2664"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="ca4bd910-c7a0-41cb-be41-6e589b6aed47" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="6f593b6c-9c43-4ede-ad51-4b6de9b65487"/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="41f3f7ef-46e1-454a-a321-adb79efbd65b"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select *
from sysb.drbatml 
where deflc01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="f72f3179-0922-49a8-826f-161ad15431f3"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoicePayments"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="b8e7c07a-6bdd-44dc-a20a-f3971e433336"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsProductionStateAXI()</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="15a6d570-24fd-403c-86d1-c8d6d41d5bad" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Productiestaat - PAID (OB) - Credit" searchProperties="true" disabled="true"><con:settings/><con:testStep type="request" name="Generate" id="d9178d60-1c80-4077-905a-5220c54e0459"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="0db41366-dbed-482e-92d0-67537400b17f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
<GenerateInvoice xmlns="http://www.outsystems.com">
      <Audit>
        <User>SPARTA_IS</User>
        <Source>APOLLO</Source>
      </Audit>
      <Input>
        <Customer>
          <CustomerTypeCode>C</CustomerTypeCode>
          <ContactTypeCode>C</ContactTypeCode>
          <CustomerNumber>23913692</CustomerNumber>
          <SalesCode>I_SELL_1</SalesCode>
          <VAT>BE0403448140</VAT>
          <CompanyNumber>0403448140</CompanyNumber>
          <CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
          <FirstName/>
          <LastName/>
          <IBAN/>
          <BIC/>
          <GenderCode>M</GenderCode>
          <LanguageCode>N</LanguageCode>
          <Email>marc.jans@dieteren.be</Email>
          <CommunicationChannelCode>POST</CommunicationChannelCode>
          <CareOf>SERVICE GARANTIE</CareOf>
        </Customer>
        <InvoiceAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </InvoiceAddress>
        <DeliveryAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </DeliveryAddress>
        <Company>
          <CompanyName>VAB N.V.</CompanyName>
          <VAT>BE0436267594</VAT>
          <CompanyNumber>0436267594</CompanyNumber>
          <ContactPerson>Thomas Smet</ContactPerson>
          <TelephoneNumber>7023</TelephoneNumber>
          <FaxNumber>03/252 69 58</FaxNumber>
          <ContactEmail>contact@vab.be</ContactEmail>
          <IBAN>BE62410032877161</IBAN>
          <BIC>KREDBEBB</BIC>
          <Website>www.vab.be</Website>
          <Courthouse>RPR Antwerpen</Courthouse>
          <Street>PASTOOR COPLAAN</Street>
          <Number>100</Number>
          <Bus/>
          <Zip>2070</Zip>
          <City>ZWIJNDRECHT</City>
          <CountryCode>BE</CountryCode>
        </Company>
        <InvoiceDetails>
          <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
          <LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
          <CreditNote>true</CreditNote>
          <RefusalType/>
          <InvoiceTypeCode>I</InvoiceTypeCode>
          <InvoiceFlowTypeCode>PRODSTAAT</InvoiceFlowTypeCode>
          <SupplierCode/>
          <InvoiceNumberSupplier/>
          <ScanInformation/>
          <InternalNumber/>
          <InternalReference/>
          <ArticleGroup/>
          <CountryCode>BE</CountryCode>
          <CurrencyTypeCode>EUR</CurrencyTypeCode>
          <TotalNetAmount>115.0000</TotalNetAmount>
          <TotalVATAmount>0</TotalVATAmount>
          <TotalAmount>115.0000</TotalAmount>
          <RestAmount>0.0000</RestAmount>
          <PaidAmount>115.0000</PaidAmount>
          <AdditionalInformation>Eneco Belgium, BATTELSESTEENWEG455 I, 2800 MECHELEN, Onze Ref.5805947</AdditionalInformation>
          <SendToCustomer>false</SendToCustomer>
          <SendToArchive>true</SendToArchive>
          <SendToBooking>true</SendToBooking>
          <BatchID/>
          <InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
          <SpartaQueueId>85368276</SpartaQueueId>
          <PayableInformation/>
          <OrderInformation/>
          <VATForeignNumber/>
          <FileNamePattern/>
          <deextnr>WAUZZZF57KA0617</deextnr>
          <AdditionalReferenceNumber/>
          <UbenchID>12345</UbenchID>
          <FleetOwner>ALDBE</FleetOwner>
        </InvoiceDetails>
        <InvoiceLines>
          <InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <CompanyNumber>TSM1234</CompanyNumber>
            <Amount>115.0000</Amount>
            <AmountincVAT>115.0000</AmountincVAT>
            <BalanceTypeCode>D</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>   
            <BTWcode>D43</BTWcode>        
          </InputInvoiceLine_IS>
 		<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <CompanyNumber>TSM12345</CompanyNumber>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>D</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
             <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>
      	<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <CompanyNumber>TSM123456</CompanyNumber>
             <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>C</BalanceTypeCode>
            <InvoiceLineDetailTypeId>A</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>         
        </InvoiceLines>       
        <InvoicePayment>
          <PaymentTypeCode>B</PaymentTypeCode>    
          <SEPARefused>false</SEPARefused>
        </InvoicePayment>
      </Input>
    </GenerateInvoice>
	</soap:Body>
</soap:Envelope>	]]></con:request><con:assertion type="SOAP Response" id="c61a5d44-9b34-4d13-ab67-d5ccaa0c463c"/><con:assertion type="Simple Contains" id="24163730-3f74-44ff-a2fe-4b9d4e82a5e2" name="Contains"><con:configuration><token>OB</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="ffe10729-3ad0-45b1-a033-18390a68b14c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>InvoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="3023aa8c-7e42-4337-90b4-44af642e2aed"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="ca4bd910-c7a0-41cb-be41-6e589b6aed47" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="6f593b6c-9c43-4ede-ad51-4b6de9b65487"/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="7349cb03-2554-4981-bc40-5efa0dca71b7"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select *
from sysb.drbatml 
where deflc01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="7be85cee-f706-4c9e-953b-bdade0294018"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="e0bea4fa-bc52-499c-80b4-783b68834e6c"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsAXI(true)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="63a16661-9e7d-4e25-aa3b-44c0a793a302" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Productiestaat - NOT PAID (OA) - Credit" searchProperties="true" disabled="true"><con:settings/><con:testStep type="request" name="Generate" id="ed15a1d9-c9f1-4cd9-b140-8dab82a76569"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="f4f6348e-5207-4c9a-ae67-f0056b47109c" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
<GenerateInvoice xmlns="http://www.outsystems.com">
      <Audit>
        <User>SPARTA_IS</User>
        <Source>APOLLO</Source>
      </Audit>
      <Input>
        <Customer>
          <CustomerTypeCode>C</CustomerTypeCode>
          <ContactTypeCode>C</ContactTypeCode>
          <CustomerNumber>23913692</CustomerNumber>
          <SalesCode>I_SELL_1</SalesCode>
          <VAT>BE0403448140</VAT>
          <CompanyNumber>0403448140</CompanyNumber>
          <CompanyName>D'IETEREN GROUP SERVICE</CompanyName>
          <FirstName/>
          <LastName/>
          <IBAN/>
          <BIC/>
          <GenderCode>M</GenderCode>
          <LanguageCode>N</LanguageCode>
          <Email>marc.jans@dieteren.be</Email>
          <CommunicationChannelCode>POST</CommunicationChannelCode>
          <CareOf>SERVICE GARANTIE</CareOf>
        </Customer>
        <InvoiceAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </InvoiceAddress>
        <DeliveryAddress>
          <Name>D'IETEREN GROUP SERVICE</Name>
          <CareOf>SERVICE GARANTIE</CareOf>
          <CompanyLegalForm>SA</CompanyLegalForm>
          <Street>MALIESTRAAT</Street>
          <Number>50</Number>
          <Bus/>
          <Zip>1050</Zip>
          <City>ELSENE</City>
          <CountryCode>BE</CountryCode>
        </DeliveryAddress>
        <Company>
          <CompanyName>VAB N.V.</CompanyName>
          <VAT>BE0436267594</VAT>
          <CompanyNumber>0436267594</CompanyNumber>
          <ContactPerson>Thomas Smet</ContactPerson>
          <TelephoneNumber>7023</TelephoneNumber>
          <FaxNumber>03/252 69 58</FaxNumber>
          <ContactEmail>contact@vab.be</ContactEmail>
          <IBAN>BE62410032877161</IBAN>
          <BIC>KREDBEBB</BIC>
          <Website>www.vab.be</Website>
          <Courthouse>RPR Antwerpen</Courthouse>
          <Street>PASTOOR COPLAAN</Street>
          <Number>100</Number>
          <Bus/>
          <Zip>2070</Zip>
          <City>ZWIJNDRECHT</City>
          <CountryCode>BE</CountryCode>
        </Company>
        <InvoiceDetails>
          <EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
          <LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
          <CreditNote>true</CreditNote>
          <RefusalType/>
          <InvoiceTypeCode>I</InvoiceTypeCode>
          <InvoiceFlowTypeCode>PRODSTAAT</InvoiceFlowTypeCode>
          <SupplierCode/>
          <InvoiceNumberSupplier/>
          <ScanInformation/>
          <InternalNumber/>
          <InternalReference/>
          <ArticleGroup/>
          <CountryCode>BE</CountryCode>
          <CurrencyTypeCode>EUR</CurrencyTypeCode>
          <TotalNetAmount>115.0000</TotalNetAmount>
          <TotalVATAmount>0</TotalVATAmount>
          <TotalAmount>115.0000</TotalAmount>
          <RestAmount>115.0000</RestAmount>
          <PaidAmount>0</PaidAmount>
          <AdditionalInformation>Eneco Belgium, BATTELSESTEENWEG455 I, 2800 MECHELEN, Onze Ref.5805947</AdditionalInformation>
          <SendToCustomer>false</SendToCustomer>
          <SendToArchive>true</SendToArchive>
          <SendToBooking>true</SendToBooking>
          <BatchID/>
          <InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
          <SpartaQueueId>85368276</SpartaQueueId>
          <PayableInformation/>
          <OrderInformation/>
          <VATForeignNumber/>
          <FileNamePattern/>
          <deextnr>WAUZZZF57KA0617</deextnr>
          <AdditionalReferenceNumber/>
          <UbenchID>12345</UbenchID>
          <FleetOwner>ALDBE</FleetOwner>
        </InvoiceDetails>
        <InvoiceLines>
          <InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <CompanyNumber>TSM1234</CompanyNumber>
            <Amount>115.0000</Amount>
            <AmountincVAT>115.0000</AmountincVAT>
            <BalanceTypeCode>D</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>   
            <BTWcode>D43</BTWcode>        
          </InputInvoiceLine_IS>
 		<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <CompanyNumber>TSM12345</CompanyNumber>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>D</BalanceTypeCode>
            <InvoiceLineDetailTypeId>N</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
             <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>
      	<InputInvoiceLine_IS>
            <ShowOnInvoice>true</ShowOnInvoice>
            <ContractTypeCode>C</ContractTypeCode>
            <CompletionTypeCode>I</CompletionTypeCode>
            <CompanyNumber>TSM123456</CompanyNumber>
             <Description>REIS-002</Description>
            <Quantity>1.0000</Quantity>
            <UnitPrice>115.0000</UnitPrice>
            <Amount>115.0000</Amount>
            <BalanceTypeCode>C</BalanceTypeCode>
            <InvoiceLineDetailTypeId>A</InvoiceLineDetailTypeId>
            <DiscountGroup/>
            <CostCode>P</CostCode>
            <OBNumber>OBOBOBOBOB</OBNumber>
            <OANumber>OAOAOAOAOAO</OANumber>
            <CommissionAmount>15</CommissionAmount>
            <CommissionPct>20</CommissionPct>
            <AdditionalInformation1>MAK20050515450509</AdditionalInformation1>            
            <AdditionalInformation2>65365978</AdditionalInformation2>
            <AdditionalInformation3>2020-07-23</AdditionalInformation3>
            <AdditionalInformation4>WSL612</AdditionalInformation4>
            <AdditionalInformation5>VERMEIREN MARIA</AdditionalInformation5>  
            <BTWcode>D43</BTWcode>                 
          </InputInvoiceLine_IS>         
        </InvoiceLines>       
        <InvoicePayment>
          <PaymentTypeCode>B</PaymentTypeCode>    
          <SEPARefused>false</SEPARefused>
        </InvoicePayment>
      </Input>
    </GenerateInvoice>
	</soap:Body>
</soap:Envelope>	]]></con:request><con:assertion type="SOAP Response" id="54dd89c8-3873-4d19-bb0c-ecf7f09a6bf4"/><con:assertion type="Simple Contains" id="77423b2b-6cfd-453f-ad3a-34b7430ff966" name="Contains"><con:configuration><token>OA</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="29066b43-f247-4ea6-bfb2-120852275d33"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>InvoiceNumber</con:name><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="7f03bd18-240f-4f22-9c53-b69846ab31a5"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="1cf293c7-7e2b-4ba7-9978-14c6adfba6f4" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="889ae98e-4a12-4bac-a0b8-5dc193e4e4d9"/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="b42fd24b-5aca-4bbe-880c-0ef895ba48cd"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select *
from sysb.drbatml 
where deflc01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="10ca0324-373c-44f8-81f0-b96547ee69f8"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsAXI(true)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="a52e61cb-33ae-4614-9993-da38a7130e5b" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="InvoiceMultipleLinesPayment" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true"><con:description/><con:settings/><con:testStep type="groovy" name="Initialize" id="e51b17e5-29ca-4318-9cfc-98064ad2d1ba"><con:settings/><con:config><script>//set curDataRow to initial first line in csv file
testRunner.testCase.setPropertyValue("curDataRowInvoices","2")
testRunner.testCase.setPropertyValue("curDataRowInvoiceLines","2")
testRunner.testCase.setPropertyValue("endLooping","false")</script></con:config></con:testStep><con:testStep type="groovy" name="ReadInput" id="99c5b396-e0ee-4603-9580-92685846fb87"><con:settings/><con:config><script>// Get the path to an input file from a custom property
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectDir = groovyUtils.projectPath
def inputFileInvoices = testRunner.testCase.testSuite.getPropertyValue("inputFileInvoices");
def inputFileInvoiceLines = testRunner.testCase.testSuite.getPropertyValue("inputFileInvoiceLines");

// Read input files
// Read input file:Invoices
File fileInvoices = new File(projectDir + inputFileInvoices);
List fileInvoicesRows = fileInvoices.readLines();
int rowcountInvoices = fileInvoicesRows.size.toInteger();


//Set row invoices
def currentrow;
int currentrowNr;
currentrowNr = Integer.parseInt(testRunner.testCase.getPropertyValue("curDataRowInvoices"));

if (currentrowNr.toInteger() &lt;= rowcountInvoices.toInteger())
{
	log.info "Reading line " + currentrowNr;
	//Get values from csv
	currentrow = fileInvoicesRows[currentrowNr.toInteger()-1];
	def lineValues = currentrow.split(";");
	
	// Set Test Suite custom properties
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("parentId", lineValues[0]);
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("invoiceType", lineValues[1]);
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("creditNote", lineValues[2]);
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("totalNetAmount", lineValues[3]);
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("totalVatAmount", lineValues[4]);
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("totalAmount", lineValues[5]);
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("totalPaymentNetAmount", lineValues[6]);
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("totalPaymentVatAmount", lineValues[7]);
	testRunner.testCase.testSteps["Datadriven"].setPropertyValue("totalPaymentAmount", lineValues[8]);

	
	// Read input file:Invoice lines
	File fileInvoiceLines = new File(projectDir + inputFileInvoiceLines).eachLine{		
		//testRunner.testCase.testSuite.setPropertyValue( "inValue", it.split(",")[0] )
		log.info "Input value: ${it.split(";")[1]}"
		
		def lineValues2 = it.split(";");
		log.info "line = ${lineValues2[1]}"

		if (lineValues2[1]==lineValues[0])
		{
			log.info("parent id found");
			def template_Family = testRunner.testCase.testSteps["Templates"].getPropertyValue("template_invoiceLines")
			def separator = ","
			def result = ""
			
		}else{
			log.info("parent id not found");
		}
	}
	

	
}
else
{
	testRunner.testCase.setPropertyValue("endLooping","true");
	testRunner.gotoStepByName("NextIteration_or_endtest");
	log.info "Ending testrun, last record reached";
}</script></con:config></con:testStep><con:testStep type="properties" name="Datadriven" id="20fa5b3d-0e19-42a8-9fed-07fa872a4d0e"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>invoiceType</con:name><con:value>I</con:value></con:property><con:property><con:name>totalNetAmount</con:name><con:value>1188.38</con:value></con:property><con:property><con:name>totalPaymentVatAmount</con:name><con:value>249.53</con:value></con:property><con:property><con:name>totalVatAmount</con:name><con:value>249.53</con:value></con:property><con:property><con:name>totalPaymentNetAmount</con:name><con:value>1188.38</con:value></con:property><con:property><con:name>totalAmount</con:name><con:value>1437.91</con:value></con:property><con:property><con:name>creditnote</con:name><con:value>false</con:value></con:property><con:property><con:name>totalPaymentAmount</con:name><con:value>1437.91</con:value></con:property><con:property><con:name>parentId</con:name><con:value>1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="properties" name="Templates" id="d9d9116f-9af4-4be5-9f6f-022477a9ee02"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties/></con:config></con:testStep><con:testStep type="request" name="Generate" id="260a9b6b-61e7-4d85-9092-86e22daf362a"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="271fa766-2704-4c27-b211-6aaa3a5f7b8f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<Customer>
					<CustomerTypeCode>C</CustomerTypeCode>
					<ContactTypeCode>C</ContactTypeCode>
					<CustomerNumber>3858135</CustomerNumber>
					<VAT>BE0460708626</VAT>
					<CompanyNumber>0460708626</CompanyNumber>
					<CompanyName>CDM IT SERVICES</CompanyName>
					<FirstName>Christophe</FirstName>
					<LastName>Arrobe</LastName>
					<IBAN>BE05431915671175</IBAN>
					<BIC>KREDBEBB</BIC>
					<GenderCode>M</GenderCode>
					<LanguageCode>N</LanguageCode>
					<Email>christophe.deman@cdm-it.be</Email>
					<CommunicationChannelCode>ZOOMIT</CommunicationChannelCode>
				</Customer>
				<InvoiceAddress>
					<Name>CDM IT SERVICES</Name>
					<CareOf>Mr. Christophe Arrobe</CareOf>
					<CompanyLegalForm>BVBA</CompanyLegalForm>
					<Street>BOLLOSTRAAT</Street>
					<Number>71</Number>
					<Bus>A</Bus>
					<Zip>3140</Zip>
					<City>KEERBERGEN</City>
					<CountryCode>BE</CountryCode>
				</InvoiceAddress>
				<DeliveryAddress>
					<Name>CDM IT SERVICES</Name>
					<CareOf>Mr. Christophe Arrobe</CareOf>
					<CompanyLegalForm>BVBA</CompanyLegalForm>
					<Street>BOLLOSTRAAT</Street>
					<Number>71</Number>
					<Bus>A</Bus>
					<Zip>3140</Zip>
					<City>KEERBERGEN</City>
					<CountryCode>BE</CountryCode>
				</DeliveryAddress>
				<Company>
					<CompanyName>VAB N.V.</CompanyName>
					<VAT>BE0436267594</VAT>
					<CompanyNumber>0436267594</CompanyNumber>
					<TelephoneNumber>03/253 63 45</TelephoneNumber>
					<BusinessCode>KTK</BusinessCode>
					<ContactPerson>Laura Diels</ContactPerson>              
					<ContactEmail>cards@vab.be</ContactEmail>
					<IBAN>BE62410032877161</IBAN>
					<BIC>KREDBEBB</BIC>
					<Website>www.vab.be</Website>
					<Courthouse>RPR Antwerpen</Courthouse>
					<Street>Pastoor Coplaan</Street>
					<Number>100</Number>
					<Zip>2070</Zip>
					<City>Zwijndrecht </City>
					<CountryCode>BE</CountryCode>
				</Company>
				<InvoiceDetails>
					<EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
					<LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
					<CreditNote>${Datadriven#creditNote}</CreditNote>
					<InvoiceTypeCode>${Datadriven#invoiceType}</InvoiceTypeCode>
					<InvoiceFlowTypeCode>SELL</InvoiceFlowTypeCode>
					<CountryCode>BE</CountryCode>
					<CurrencyTypeCode>EUR</CurrencyTypeCode>
					<TotalNetAmount>${Datadriven#totalNetAmount}</TotalNetAmount>
					<TotalVATAmount>${Datadriven#totalVATAmount}</TotalVATAmount>
					<TotalAmount>${Datadriven#totalAmount}</TotalAmount>
					<RestAmount>${Datadriven#totalPaymentAmount}</RestAmount>
					<PaidAmount>0.0</PaidAmount>
					<SendToCustomer>true</SendToCustomer>
					<SendToArchive>true</SendToArchive>
					<SendToBooking>true</SendToBooking>
					<BatchID/>
					<InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
				</InvoiceDetails>
				<InvoiceLines>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<Description>Kaart Verrichting(en) KBCFLEET</Description>
						<Quantity>1</Quantity>
						<UnitPrice>832.69</UnitPrice>
						<Amount>832.69</Amount>
						<AmountInclVAT>1007.53</AmountInclVAT>
						<BalanceTypeCode>C</BalanceTypeCode>
						<DiscountGroup/>
						<CostCode>150</CostCode>
						<BookingLines>
							<InputInvoiceBookingLine_IS>
								<Amount>832.69</Amount>
								<VATCode>V04</VATCode>
								<VATRate>21</VATRate>
								<VATAmount>174.84</VATAmount>
								<ProductCode>SIXT-I001</ProductCode>
							</InputInvoiceBookingLine_IS>
						</BookingLines>
					</InputInvoiceLine_IS>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<Description>Kaart Verrichting(en) KBCFLEET</Description>
						<Quantity>1</Quantity>
						<UnitPrice>355.69</UnitPrice>
						<Amount>355.69</Amount>
						<AmountInclVAT>430.38</AmountInclVAT>
						<BalanceTypeCode>C</BalanceTypeCode>
						<DiscountGroup/>
						<CostCode>150</CostCode>
						<BookingLines>
							<InputInvoiceBookingLine_IS>
								<Amount>355.69</Amount>
								<VATCode>V04</VATCode>
								<VATRate>21</VATRate>
								<VATAmount>74.69</VATAmount>
								<ProductCode>SIXT-I001</ProductCode>
							</InputInvoiceBookingLine_IS>
						</BookingLines>
					</InputInvoiceLine_IS>
				</InvoiceLines>
				<InvoicePayment>
					<PaymentTypeCode>B</PaymentTypeCode>
					<OGM>002/7349/67843</OGM>
					<SEPARefused>false</SEPARefused>
				</InvoicePayment>
			</Input>
		</GenerateInvoice>
	</soap:Body>
</soap:Envelope>	]]></con:request><con:assertion type="SOAP Response" id="2e5f14f3-cc0d-4111-a25d-3efb031e03aa"/><con:assertion type="XPath Match" id="6a3e4aec-3833-45f5-a1a0-82f0b3050599" name="XPath Match Success"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="c7ad8fa4-e476-43bb-8b64-82f509cc9219" name="XPath Match ResultCode"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="0c4c935f-cac0-4f87-a6d0-1f86f45511d5" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>invoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="a1321d69-e72e-4faf-aeb2-1b9bef4058a2" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="1b664a7b-7e67-436e-b926-52abd6aee422" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5c3e52a6-f30a-4023-99c6-65c52303dd9b"/><con:assertion type="XPath Match" id="148ca1f0-0660-4313-b862-2f5b0ea7c3d6" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="8baf5a18-efe8-4a55-83fe-b2d5e22f3636" disabled="true"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
  fh.DEFLC01
from sysb.drbatfh fh
where fh.DEFLC01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="fcc25067-2b14-4495-ab1b-29b9c58cc371" disabled="true"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="Assertions AXI Database" id="f590054b-cd5e-4ba8-a596-bcab6adc4852" disabled="true"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsAXI()</script></con:config></con:testStep><con:testStep type="request" id="eec939b5-3541-4e13-abcf-32c5ae9a87ad" name="Payment" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>UpdatePaymentAmount</con:operation><con:request name="Payment" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" id="407438ab-c4f7-445c-8c92-bf9fe9c0b6e5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
   <soap:Header/>
   <soap:Body>
      <out:UpdatePaymentAmount>
         <!--Optional:-->
         <out:Audit>
            <!--Optional:-->
            <out:User>SPARTA_IS</out:User>
            <!--Optional:-->
            <out:Source>SPARTA</out:Source>
         </out:Audit>
         <!--Optional:-->
         <out:Input>
            <!--Optional:-->
            <out:InvoiceNumber>${#Project#invoiceNumber}</out:InvoiceNumber>
            <out:TotalNetAmount>1188.38</out:TotalNetAmount>
            <out:TotalVatAmount>246.53</out:TotalVatAmount>
            <out:TotalAmount>1437.91</out:TotalAmount>
            <!--Optional:-->
            <out:Description>SoapUINormalPaid</out:Description>
            <!--Optional:-->
            <out:MessageIdentification>?</out:MessageIdentification>
            <!--Optional:-->
            <out:LotIdentification>?</out:LotIdentification>
            <!--Optional:-->
            <out:PaymentMethod/>
            <out:PayDate>${=new Date().format("yyyy-MM-dd")}</out:PayDate>
         </out:Input>
      </out:UpdatePaymentAmount>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="58a48323-16a8-4fc6-867a-72a7e79f5737" name="SOAP Response"/><con:assertion type="XPath Match" id="0222e244-c2fa-40a9-ae22-0cf7c87961d3" name="XPath Match Success"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="99157574-501e-4811-9371-d9aaee2863d2" name="XPath Match ResultCode"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/UpdatePaymentAmountRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="NextIteration_or_endtest" id="ad9f95e1-4c8e-452d-bfa5-bc693812704b"><con:settings/><con:config><script>if (testRunner.testCase.getPropertyValue("endLooping") == "false"){
	log.info("Keep looping");
	//Increase currentrow number
	String CurRow
	CurRow = Integer.parseInt(testRunner.testCase.getPropertyValue("curDataRow"))+1
	log.info "Next datarow: " + CurRow
	testRunner.testCase.setPropertyValue("curDataRow",CurRow)

	//Go back to step "ReadNewData"
	testRunner.gotoStepByName("ReadInput")
}</script></con:config></con:testStep><con:properties><con:property><con:name>totalVatAmout</con:name><con:value>249.53</con:value></con:property><con:property><con:name>totalNetAmount</con:name><con:value>1188.38</con:value></con:property><con:property><con:name>totalAmount</con:name><con:value>1437.91</con:value></con:property><con:property><con:name>curDataRowInvoices</con:name><con:value>2</con:value></con:property><con:property><con:name>endLooping</con:name><con:value>false</con:value></con:property><con:property><con:name>curDataRowInvoiceLines</con:name><con:value>2</con:value></con:property></con:properties></con:testCase><con:testCase id="fc245178-6c3b-425e-85bf-2f16e3ddb5bd" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="InvoicePayment" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description/><con:settings/><con:testStep type="groovy" name="Groovy Script" id="dcfb46dd-7980-443c-bb76-1255260d42fc"><con:settings/><con:config><script>//Define teststeps to run in loop
def tcTestStepGenerate = testRunner.testCase.getTestStepByName("Generate");
def tcTestStepParseInvoiceNumber = testRunner.testCase.getTestStepByName("ParseInvoiceNumber");
def tcTestStepFinalize = testRunner.testCase.getTestStepByName("Finalize");
def tcTestStepAXIDatabaseResult = testRunner.testCase.getTestStepByName("AXIDatabaseResult");
def tcTestStepAXIDatabaseGetResult = testRunner.testCase.getTestStepByName("AXIDatabaseGetResult");
def tcTestStepAssertionsAXIDatabase = testRunner.testCase.getTestStepByName("AssertionsAXIDatabase");
def tcTestStepPaymentCorrect = testRunner.testCase.getTestStepByName("PaymentCorrect");
def tcTestStepPaymentLess = testRunner.testCase.getTestStepByName("PaymentLess");
def tcTestStepPaymentTooLess = testRunner.testCase.getTestStepByName("PaymentTooLess");
def tcTestStepPaymentMore = testRunner.testCase.getTestStepByName("PaymentMore");

//Define parameters for loop
// Values Payment = CORRECT,LESS,TOOLESS,MORE,ALL
def runPayments = testRunner.testCase.getPropertyValue("Payments");
def paymentScripts = [];

switch(runPayments){
	case 'CORRECT':		
		log.info("Invoice with payment correct");
		paymentScripts.add(tcTestStepPaymentCorrect);
		break;		
	case 'LESS':	
		log.info("Invoice with payment less");
		paymentScripts.add(tcTestStepPaymentLess);
		break;
	case 'TOOLESS':	
		log.info("Invoice with payment too less");
		paymentScripts.add(tcTestStepPaymentTooLess);
		break;
	case 'MORE':	
		log.info("Invoice with payment more");
		paymentScripts.add(tcTestStepPaymentMore);
		break;
	case 'ALL':
		log.info("Invoices with all payments");
		paymentScripts.add(tcTestStepPaymentCorrect);
		paymentScripts.add(tcTestStepPaymentLess);
		paymentScripts.add(tcTestStepPaymentTooLess);
		paymentScripts.add(tcTestStepPaymentMore);
		break;
	default:
		break;
}


for(i=0;i&lt;paymentScripts.size();i++){	
	log.info("Generate Invoice");
	testRunner.runTestStep(tcTestStepGenerate);
	log.info("Parse InvoiceNumber");
	testRunner.runTestStep(tcTestStepParseInvoiceNumber);
	log.info("Finalize Invoice");
	testRunner.runTestStep(tcTestStepFinalize);
	log.info("Get AXI Database Result");
	testRunner.runTestStep(tcTestStepAXIDatabaseResult);
	testRunner.runTestStep(tcTestStepAXIDatabaseGetResult);
	log.info("Generate Invoice");
	testRunner.runTestStep(tcTestStepAssertionsAXIDatabase);

	log.info("Payment " + i + ": " + paymentScripts.get(i).getName());
	testRunner.runTestStep(paymentScripts.get(i));
}
</script></con:config></con:testStep><con:testStep type="request" name="Generate" id="03642e44-cf00-4bf5-ac33-2e08609a0c3d" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>GenerateInvoice</con:operation><con:request name="Generate" id="271fa766-2704-4c27-b211-6aaa3a5f7b8f" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<GenerateInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<Customer>
					<CustomerTypeCode>C</CustomerTypeCode>
					<ContactTypeCode>C</ContactTypeCode>
					<CustomerNumber>3858135</CustomerNumber>
					<VAT>BE0460708626</VAT>
					<CompanyNumber>0460708626</CompanyNumber>
					<CompanyName>CDM IT SERVICES</CompanyName>
					<FirstName>Christophe</FirstName>
					<LastName>Arrobe</LastName>
					<IBAN>BE05431915671175</IBAN>
					<BIC>KREDBEBB</BIC>
					<GenderCode>M</GenderCode>
					<LanguageCode>N</LanguageCode>
					<Email>christophe.deman@cdm-it.be</Email>
					<CommunicationChannelCode>ZOOMIT</CommunicationChannelCode>
				</Customer>
				<InvoiceAddress>
					<Name>CDM IT SERVICES</Name>
					<CareOf>Mr. Christophe Arrobe</CareOf>
					<CompanyLegalForm>BVBA</CompanyLegalForm>
					<Street>BOLLOSTRAAT</Street>
					<Number>71</Number>
					<Bus>A</Bus>
					<Zip>3140</Zip>
					<City>KEERBERGEN</City>
					<CountryCode>BE</CountryCode>
				</InvoiceAddress>
				<DeliveryAddress>
					<Name>CDM IT SERVICES</Name>
					<CareOf>Mr. Christophe Arrobe</CareOf>
					<CompanyLegalForm>BVBA</CompanyLegalForm>
					<Street>BOLLOSTRAAT</Street>
					<Number>71</Number>
					<Bus>A</Bus>
					<Zip>3140</Zip>
					<City>KEERBERGEN</City>
					<CountryCode>BE</CountryCode>
				</DeliveryAddress>
				<Company>
					<CompanyName>VAB N.V.</CompanyName>
					<VAT>BE0436267594</VAT>
					<CompanyNumber>0436267594</CompanyNumber>
					<TelephoneNumber>03/253 63 45</TelephoneNumber>
					<BusinessCode>KTK</BusinessCode>
					<ContactPerson>Laura Diels</ContactPerson>              
					<ContactEmail>cards@vab.be</ContactEmail>
					<IBAN>BE62410032877161</IBAN>
					<BIC>KREDBEBB</BIC>
					<Website>www.vab.be</Website>
					<Courthouse>RPR Antwerpen</Courthouse>
					<Street>Pastoor Coplaan</Street>
					<Number>100</Number>
					<Zip>2070</Zip>
					<City>Zwijndrecht </City>
					<CountryCode>BE</CountryCode>
				</Company>
				<InvoiceDetails>
					<EntityId>UITFACT_${=new Date().format("yyyyMMdd'T'HHmmss")}</EntityId>
					<LatestPaymentDate>${=new Date().format("yyyy-MM-dd")}</LatestPaymentDate>
					<CreditNote>false</CreditNote>
					<InvoiceTypeCode>I</InvoiceTypeCode>
					<InvoiceFlowTypeCode>SELL</InvoiceFlowTypeCode>
					<CountryCode>BE</CountryCode>
					<CurrencyTypeCode>EUR</CurrencyTypeCode>
					<TotalNetAmount>1188.38</TotalNetAmount>
					<TotalVATAmount>249.53</TotalVATAmount>
					<TotalAmount>1437.91</TotalAmount>
					<RestAmount>1437.91</RestAmount>
					<PaidAmount>0.0</PaidAmount>
					<SendToCustomer>true</SendToCustomer>
					<SendToArchive>true</SendToArchive>
					<SendToBooking>true</SendToBooking>
					<BatchID/>
					<InvoiceDate>${=new Date().format("yyyy-MM-dd")}</InvoiceDate>
				</InvoiceDetails>
				<InvoiceLines>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<Description>Kaart Verrichting(en) KBCFLEET</Description>
						<Quantity>1</Quantity>
						<UnitPrice>832.69</UnitPrice>
						<Amount>832.69</Amount>
						<AmountInclVAT>1007.53</AmountInclVAT>
						<BalanceTypeCode>C</BalanceTypeCode>
						<DiscountGroup/>
						<CostCode>150</CostCode>
						<BookingLines>
							<InputInvoiceBookingLine_IS>
								<Amount>832.69</Amount>
								<VATCode>V04</VATCode>
								<VATRate>21</VATRate>
								<VATAmount>174.84</VATAmount>
								<ProductCode>SIXT-I001</ProductCode>
							</InputInvoiceBookingLine_IS>
						</BookingLines>
					</InputInvoiceLine_IS>
					<InputInvoiceLine_IS>
						<ShowOnInvoice>true</ShowOnInvoice>
						<ContractTypeCode>C</ContractTypeCode>
						<CompletionTypeCode>I</CompletionTypeCode>
						<Description>Kaart Verrichting(en) KBCFLEET</Description>
						<Quantity>1</Quantity>
						<UnitPrice>355.69</UnitPrice>
						<Amount>355.69</Amount>
						<AmountInclVAT>430.38</AmountInclVAT>
						<BalanceTypeCode>C</BalanceTypeCode>
						<DiscountGroup/>
						<CostCode>150</CostCode>
						<BookingLines>
							<InputInvoiceBookingLine_IS>
								<Amount>355.69</Amount>
								<VATCode>V04</VATCode>
								<VATRate>21</VATRate>
								<VATAmount>74.69</VATAmount>
								<ProductCode>SIXT-I001</ProductCode>
							</InputInvoiceBookingLine_IS>
						</BookingLines>
					</InputInvoiceLine_IS>
				</InvoiceLines>
				<InvoicePayment>
					<PaymentTypeCode>B</PaymentTypeCode>
					<OGM>002/7349/67843</OGM>
					<SEPARefused>false</SEPARefused>
				</InvoicePayment>
			</Input>
		</GenerateInvoice>
	</soap:Body>
</soap:Envelope>	]]></con:request><con:assertion type="SOAP Response" id="2e5f14f3-cc0d-4111-a25d-3efb031e03aa"/><con:assertion type="XPath Match" id="6a3e4aec-3833-45f5-a1a0-82f0b3050599" name="XPath Match Success"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="c7ad8fa4-e476-43bb-8b64-82f509cc9219" name="XPath Match ResultCode"><con:configuration><path>declare namespace a='http://www.outsystems.com';
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="ParseInvoiceNumber" id="23dd366c-0577-42bb-a056-a48027204fae" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>invoiceNumber</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate</con:sourceStep><con:sourcePath>declare namespace a='http://www.outsystems.com';
//a:InvoiceNumber</con:sourcePath><con:targetType>invoiceNumber</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Finalize" id="d09ce411-f22a-4f37-96c2-581b837f9f63" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>FinalizeInvoice</con:operation><con:request name="Finalize" id="1b664a7b-7e67-436e-b926-52abd6aee422" outgoingWss="" incomingWss=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
	<soap:Header/>
	<soap:Body>
		<FinalizeInvoice xmlns="http://www.outsystems.com">
			<Audit>
				<User>SPARTA_IS</User>
				<Source>SPARTA</Source>
			</Audit>
			<Input>
				<InvoiceNumber>${#Project#invoiceNumber}</InvoiceNumber>
			</Input>
		</FinalizeInvoice>
	</soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5c3e52a6-f30a-4023-99c6-65c52303dd9b"/><con:assertion type="XPath Match" id="148ca1f0-0660-4313-b862-2f5b0ea7c3d6" name="XPath Match"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="AXIDatabaseResult" id="77d4f4c3-d68c-40ad-909a-fc5010222fef" disabled="true"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>oracle.jdbc.driver.OracleDriver</con:driver><con:connectionString>jdbc:oracle:thin:${#Project#dbUsername}/${#Project#dbPassword}@${#Project#dbURL}:${#Project#dbPort}:${#Project#dbSIDAXI}</con:connectionString><con:query>select 
  fh.DEFLC01
from sysb.drbatfh fh
where fh.DEFLC01 = :invoiceNumber</con:query><con:properties><con:property><con:name>invoiceNumber</con:name><con:value>${#Project#invoiceNumber}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="AXIDatabaseGetResult" id="92e7aaf4-7628-4139-aceb-57789f988676" disabled="true"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["Loop Connection AXI Database"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceHeader"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["AXIDatabaseGetInvoiceLines"].run(testRunner, context);
testRunner.testCase.testSuite.project.testSuites["Library"].testCases["Common Scripts"].testSteps["TransferResponseXML"].run(testRunner, context);</script></con:config></con:testStep><con:testStep type="groovy" name="AssertionsAXIDatabase" id="52336a20-4b21-4461-9f0a-0265d304f5dd" disabled="true"><con:settings/><con:config><script>// Import the class LibraryAXIDatabase
def currentProject = testRunner.testCase.testSuite.project
currentProject.testSuites["Library"].testCases["Common Scripts"].testSteps["LibraryAXIDatabase"].run(testRunner, context)

// Launch assertionsAXI
context.RequestXML.assertionsAXI()</script></con:config></con:testStep><con:testStep type="request" id="ae60ad21-0906-4b8d-982c-f21ee62b19d4" name="PaymentCorrect" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>UpdatePaymentAmount</con:operation><con:request name="PaymentCorrect" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" id="407438ab-c4f7-445c-8c92-bf9fe9c0b6e5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
   <soap:Header/>
   <soap:Body>
      <out:UpdatePaymentAmount>
         <!--Optional:-->
         <out:Audit>
            <!--Optional:-->
            <out:User>SPARTA_IS</out:User>
            <!--Optional:-->
            <out:Source>SPARTA</out:Source>
         </out:Audit>
         <!--Optional:-->
         <out:Input>
            <!--Optional:-->
            <out:InvoiceNumber>${#Project#invoiceNumber}</out:InvoiceNumber>
            <out:TotalNetAmount>1188.38</out:TotalNetAmount>
            <out:TotalVatAmount>246.53</out:TotalVatAmount>
            <out:TotalAmount>1437.91</out:TotalAmount>
            <!--Optional:-->
            <out:Description>SoapUINormalPaid</out:Description>
            <!--Optional:-->
            <out:MessageIdentification>?</out:MessageIdentification>
            <!--Optional:-->
            <out:LotIdentification>?</out:LotIdentification>
            <!--Optional:-->
            <out:PaymentMethod/>
            <out:PayDate>${=new Date().format("yyyy-MM-dd")}</out:PayDate>
         </out:Input>
      </out:UpdatePaymentAmount>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="58a48323-16a8-4fc6-867a-72a7e79f5737" name="SOAP Response"/><con:assertion type="XPath Match" id="0222e244-c2fa-40a9-ae22-0cf7c87961d3" name="XPath Match Success"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="99157574-501e-4811-9371-d9aaee2863d2" name="XPath Match ResultCode"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/UpdatePaymentAmountRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="63b32cf7-af02-408c-856e-3bb00047309e" name="PaymentLess" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>UpdatePaymentAmount</con:operation><con:request name="PaymentLess" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" id="407438ab-c4f7-445c-8c92-bf9fe9c0b6e5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
   <soap:Header/>
   <soap:Body>
      <out:UpdatePaymentAmount>
         <!--Optional:-->
         <out:Audit>
            <!--Optional:-->
            <out:User>SPARTA_IS</out:User>
            <!--Optional:-->
            <out:Source>SPARTA</out:Source>
         </out:Audit>
         <!--Optional:-->
         <out:Input>
            <!--Optional:-->
            <out:InvoiceNumber>${#Project#invoiceNumber}</out:InvoiceNumber>
            <out:TotalNetAmount>1088.38</out:TotalNetAmount>
            <out:TotalVatAmount>220.50</out:TotalVatAmount>
            <out:TotalAmount>1270.88</out:TotalAmount>
            <!--Optional:-->
            <out:Description>SoapUINormalPaid</out:Description>
            <!--Optional:-->
            <out:MessageIdentification>?</out:MessageIdentification>
            <!--Optional:-->
            <out:LotIdentification>?</out:LotIdentification>
            <!--Optional:-->
            <out:PaymentMethod/>
            <out:PayDate>${=new Date().format("yyyy-MM-dd")}</out:PayDate>
         </out:Input>
      </out:UpdatePaymentAmount>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="58a48323-16a8-4fc6-867a-72a7e79f5737" name="SOAP Response"/><con:assertion type="XPath Match" id="0222e244-c2fa-40a9-ae22-0cf7c87961d3" name="XPath Match Success"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="99157574-501e-4811-9371-d9aaee2863d2" name="XPath Match ResultCode"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/UpdatePaymentAmountRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="e339c2f6-d400-471d-b385-f50f3d9e0f0d" name="PaymentTooLess" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>UpdatePaymentAmount</con:operation><con:request name="PaymentTooLess" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" id="407438ab-c4f7-445c-8c92-bf9fe9c0b6e5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
   <soap:Header/>
   <soap:Body>
      <out:UpdatePaymentAmount>
         <!--Optional:-->
         <out:Audit>
            <!--Optional:-->
            <out:User>SPARTA_IS</out:User>
            <!--Optional:-->
            <out:Source>SPARTA</out:Source>
         </out:Audit>
         <!--Optional:-->
         <out:Input>
            <!--Optional:-->
            <out:InvoiceNumber>${#Project#invoiceNumber}</out:InvoiceNumber>
            <out:TotalNetAmount>21.56</out:TotalNetAmount>
            <out:TotalVatAmount>4.53</out:TotalVatAmount>
            <out:TotalAmount>26.09</out:TotalAmount>
            <!--Optional:-->
            <out:Description>SoapUINormalPaid</out:Description>
            <!--Optional:-->
            <out:MessageIdentification>?</out:MessageIdentification>
            <!--Optional:-->
            <out:LotIdentification>?</out:LotIdentification>
            <!--Optional:-->
            <out:PaymentMethod/>
            <out:PayDate>${=new Date().format("yyyy-MM-dd")}</out:PayDate>
         </out:Input>
      </out:UpdatePaymentAmount>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="58a48323-16a8-4fc6-867a-72a7e79f5737" name="SOAP Response"/><con:assertion type="XPath Match" id="0222e244-c2fa-40a9-ae22-0cf7c87961d3" name="XPath Match Success"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="99157574-501e-4811-9371-d9aaee2863d2" name="XPath Match ResultCode"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/UpdatePaymentAmountRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="45ddd4a8-fc03-4883-aff7-4fbaeaf8ba47" name="PaymentMore" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InvoiceSoap12</con:interface><con:operation>UpdatePaymentAmount</con:operation><con:request name="PaymentMore" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" id="407438ab-c4f7-445c-8c92-bf9fe9c0b6e5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#soapURL}/Invoice_API/Invoice.asmx</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:out="http://www.outsystems.com">
   <soap:Header/>
   <soap:Body>
      <out:UpdatePaymentAmount>
         <!--Optional:-->
         <out:Audit>
            <!--Optional:-->
            <out:User>SPARTA_IS</out:User>
            <!--Optional:-->
            <out:Source>SPARTA</out:Source>
         </out:Audit>
         <!--Optional:-->
         <out:Input>
            <!--Optional:-->
            <out:InvoiceNumber>${#Project#invoiceNumber}</out:InvoiceNumber>
            <out:TotalNetAmount>1300.53</out:TotalNetAmount>
            <out:TotalVatAmount>273.11</out:TotalVatAmount>
            <out:TotalAmount>1573.64</out:TotalAmount>
            <!--Optional:-->
            <out:Description>SoapUINormalPaid</out:Description>
            <!--Optional:-->
            <out:MessageIdentification>?</out:MessageIdentification>
            <!--Optional:-->
            <out:LotIdentification>?</out:LotIdentification>
            <!--Optional:-->
            <out:PaymentMethod/>
            <out:PayDate>${=new Date().format("yyyy-MM-dd")}</out:PayDate>
         </out:Input>
      </out:UpdatePaymentAmount>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="58a48323-16a8-4fc6-867a-72a7e79f5737" name="SOAP Response"/><con:assertion type="XPath Match" id="0222e244-c2fa-40a9-ae22-0cf7c87961d3" name="XPath Match Success"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:Success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="99157574-501e-4811-9371-d9aaee2863d2" name="XPath Match ResultCode"><con:configuration><path>declare namespace a='http://www.outsystems.com'
//a:ResultCode</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://Invoice_API/Invoice/InvoiceSoap/UpdatePaymentAmountRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>Payments</con:name><con:value>MORE</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>TSentityID</con:name><con:value>413</con:value></con:property><con:property><con:name>inputFileInvoices</con:name><con:value>\data\invoicingData.txt</con:value></con:property><con:property><con:name>inputFileInvoiceLines</con:name><con:value>\data\invoicingLinesData.txt</con:value></con:property></con:properties></con:testSuite><con:properties><con:property><con:name>soapURL</con:name><con:value>appsacc.vab.be</con:value></con:property><con:property><con:name>dbUsername</con:name><con:value>vab</con:value></con:property><con:property><con:name>dbPassword</con:name><con:value>vab</con:value></con:property><con:property><con:name>dbURL</con:name><con:value>vabora03.groupvab.local</con:value></con:property><con:property><con:name>dbPort</con:name><con:value>1521</con:value></con:property><con:property><con:name>dbSIDAXI</con:name><con:value>AXIA</con:value></con:property><con:property><con:name>invoiceNumber</con:name><con:value>SB210580005</con:value></con:property><con:property><con:name>ResponseAsXMLHeader</con:name><con:value>&lt;Results>
    &lt;ResultSet fetchSize="10"/>
&lt;/Results>
</con:value></con:property><con:property><con:name>ResponseAsXMLLines</con:name><con:value>&lt;Results>
    &lt;ResultSet fetchSize="10"/>
&lt;/Results>
</con:value></con:property><con:property><con:name>ResponseAsXMLPayments</con:name><con:value><![CDATA[<Results>
    <ResultSet fetchSize="10">
        <Row rowNumber="1">
            <DEDBKCE>OA</DEDBKCE>
            <DED_CCE>D</DED_CCE>
            <DEKLALE>K</DEKLALE>
            <DEBM_BG>115</DEBM_BG>
        </Row>
        <Row rowNumber="2">
            <DEDBKCE>OA</DEDBKCE>
            <DED_CCE>K</DED_CCE>
            <DEKLALE>K</DEKLALE>
            <DEBM_BG>115</DEBM_BG>
        </Row>
        <Row rowNumber="3">
            <DEDBKCE>OA</DEDBKCE>
            <DED_CCE>K</DED_CCE>
            <DEKLALE>K</DEKLALE>
            <DEBM_BG>115</DEBM_BG>
        </Row>
        <Row rowNumber="4">
            <DEDBKCE>OA</DEDBKCE>
            <DED_CCE>D</DED_CCE>
            <DEKLALE>K</DEKLALE>
            <DEBM_BG>115</DEBM_BG>
        </Row>
    </ResultSet>
</Results>
]]></con:value></con:property><con:property><con:name>proformaNumber</con:name><con:value>P2105800002</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>